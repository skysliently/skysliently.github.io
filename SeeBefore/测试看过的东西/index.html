<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

	
	

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="author" content="XiunoBBS 4.0">
	<meta name="keywords" content="">
	<meta name="description" content="[原创]热血江湖游戏逆向（部分）">
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">

	<title>
		[原创]热血江湖游戏逆向（部分）-『软件逆向』-看雪安全论坛	</title>

	<link rel="shortcut icon" href="https://bbs.pediy.com/view/img/favicon.ico">
	<link rel="icon" sizes="32x32" href="https://bbs.pediy.com/view/img/favicon.ico">
	<link rel="Bookmark" href="https://bbs.pediy.com/view/img/favicon.ico">
	<link rel="stylesheet" href="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bootstrap.css">

	<link rel="stylesheet" href="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bootstrap-bbs.css">
	<!-- <link rel="stylesheet" href="view/css/bootstrap-icon.css"> -->
	<link rel="stylesheet" href="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/kanxue.css">
	<style>
		
		@media only screen and (max-width: 780px) {
			.card > .card-body {
				padding: 0.3rem 0.5rem;
			}
			#body {
				padding: 0.5rem 0.5rem;
			}
			.container {
				padding-left: 0;
				padding-right: 0; 
			}
			.top-banner-section {
				display: none;
			}
		}
		.content_box ul.nav .nav-link.active {
			border-bottom: 3px solid #0099ee;
		}

		.top-banner {
			height: 100px;
			overflow: hidden;
			display: none;
			background:#011248 url('');
			background-repeat: no-repeat;
			background-position: center center;
		}

		.avatar-3 {
			width: 3.5rem;
			height: 3.5rem;
			border-radius: 3.5rem;
		}
		
	</style>
	
	<style>
		/* .photo_frame {
			padding: 0.14rem;
		}

		.photo_frame::after {
			content: '';
			
			background-size: 102%;
			background-position: right bottom;
			background-repeat: no-repeat;
			width: 100%;
			height: 100%;
			
			display: inline-block;
			vertical-align: middle;
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 1;
		}
		.photo_frame_image0::after {
			background-image: url(view/img/20photo_frame.png);
		}
	
		.photo_frame_image1::after {
			background-image: url(view/img/20photo_frame1.png);
		}
	
		.photo_frame_image2::after {
			background-image: url(view/img/20photo_frame2.png);
		} */
	</style>
	    <link rel="stylesheet" href="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/user_tree.css" type="text/css">
    <link rel="stylesheet" href="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/folder-tree.css" type="text/css">
<style>
/*
box-shadow: 0 0 5px red;
*/
@keyframes xndigest {
	0% { color: red; text-shadow: 0 0 3px #FF8D8D;} 
	20% { color: orange; text-shadow: 0 0 3px #FFE1AD;} 
	40% { color: green; text-shadow: 0 0 3px #B3FFAF;} 
	65% { color: blue; text-shadow: 0 0 3px #AFE4FF;} 
	80% { color: purple; text-shadow: 0 0 3px #FFC9F3;} 
	100% { color: red; text-shadow: 0 0 3px #FF8D8D;} 
}

/*水晶闪烁效果 占内存*/
i.icon-diamond.flash{color: #D53D38;  /*animation: xndigest 5s linear infinite;*/ }

i.icon-digest-1 {  text-shadow: 0 0 3px #AFE4FF; }
i.icon-digest-2 {  text-shadow: 0 0 3px #FFF177; }
i.icon-digest-3 {  text-shadow: 0 0 3px #FF8D8D; }
.icon-digest-1:before { content: "\f219";  color: #5BC0DE;} /* "\f0a5" */
.icon-digest-2:before { content: "\f219";  color: #ECA541;}
.icon-digest-3:before { content: "\f219"; color: #D53D38;}
.icon-digest-3:afteer { content: "精"; color: #D53D38;}
</style><style>
.deleted div.subject > a { text-decoration: line-through; color: grey !important; }
.deleted div.message { text-decoration: line-through; color: grey !important; }
</style><style>
/*
.toggle_more {
	max-height: 100px;
}
*/
.update_log_list a.update_log_history, 
.update_log_list a.update_log_delete {
	display: none;
}

.update_log_list > li:hover {
	background: var(--gray-300);
}
.update_log_list > li:hover > a.update_log_history, 
.update_log_list > li:hover > a.update_log_delete {
	display: inline-block;
}

</style><style>
.icon-new { width: 26px; height: 12px; display: inline-block; background: url(view/img/new.gif)}
</style>
<link rel="stylesheet" href="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/layer.css" id="layuicss-skinlayercss"><link rel="stylesheet" type="text/css" href="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/syntax.css"><script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/syntax.js"></script><script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/ga.js"></script></head>

<body>


	

	<style>
.btn-default {
    color: #333;
    background-color: #fff;
    border-color: #ccc;
}
#header {
    /* border-top: 3px solid #0099ee; */
    box-shadow: 0px 2px 10px 0px rgba(0, 0, 0, 0.1), 0 1px rgba(0, 0, 0, 0.1);
    background: #fafafa;
}

#header .container {
    height: 64px;
    line-height: 64px;
}

#header .navbar {
    padding: 0;
}

#header nav li.nav-item {
    line-height: 34px;
}

#header nav a.nav-link {
    font-size: 16px;
    color: #757575;
    font-weight: 500;
    text-decoration: none;
}
#header .login_btn,  #header .reg_btn{
	font-size: 13px;
	padding: 4px 16px;
	
	font-weight: 500;
	color: #0099ee;
	text-decoration: none;
	border: 1px solid #0099ee;
}
#header .reg_btn {
	color: #fff;
	background: #0099ee;
}
#header nav a.nav-link,
#header nav .dropdown {
    padding: 0 1rem;
}

#header nav a.nav-link:hover {
    background-color: #F3F3F3;
}

#header nav li.nav-item.active a {
    color: #0099ee;
    font-weight: 600;
}

#header nav .home_seach_form {
    border: 1px solid #ccc;
    border-radius: 4px;
}

#header nav .dropdown a.dropdown-item:hover {
    color: #0099ee;
    text-decoration: none;
    background-color: #f3f3f3;
}

.dropup .dropdown-toggle::after {
    display: none !important;
}
.header_nav_a {
    /* padding: 10px 0; */
}
.bottom-nav {
    /* display: none; */
    background-color: #fafafa;
    box-shadow: 0 -1px rgba(0,0,0,0.1), 0 -2px 10px rgba(0,0,0,0.1);
}
.bottom-nav .opts-group {
    position: relative;
    display: inline-block;
    /* padding-top: 6px; */
    line-height: 20px;
    color: #9e9e9e;
    cursor: pointer;
}
.bottom-nav .opts-group.active {
    color: #0099ee;
}

@media only screen and (min-width: 992px) {
    .bottom-nav, .header_seach_but {
        display: none !important;
    }
    
}
@media only screen and (max-width: 992px) {
    .nav-logo {
        margin-right: 0 !important;
    }

	.nav_user_item {
		width: 96px;
	}
	.nav_user_item .login_btn,  .nav_user_item .reg_btn {
		padding: 3px 6px !important;
	}
}

.seach_li {
    margin-left: 40px;
}

@media only screen and (max-width: 1200px) {
    .seach_li {
        margin-left: 0px !important;
        width: 100%;
        max-width: 120px !important;
    }
}
</style>
<header id="header">
    <div class="container" style="padding-right: 15px;padding-left: 15px;">
        <nav class="navbar navbar-expand-lg navbar-light">
            <a href="https://bbs.pediy.com/search.htm" class="header_seach_but" style="display:block; width: 96px;"><i class="icon-search" aria-hidden="true"></i></a>
            <a class="navbar-brand nav-logo" href="https://bbs.pediy.com/" style="line-height: 0px;">
                <img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/kanxuelogo.png" height="25">
            </a>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
                <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.kanxue.com/">首页</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="https://bbs.pediy.com/">论坛</a>
                    </li>
                    <!-- <li class="nav-item ">
                        <a class="nav-link " href="//zhuanlan.kanxue.com">专栏</a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.kanxue.com/course.htm">课程</a>
                    </li>
                    <!-- <li class="nav-item position-relative">
                            <a class="nav-link" href="//ctf.pediy.com">CTF</a>
                            <img class="position-absolute" style="width: 27px; top: -5px; right: -7px; z-index: 3;" src="//passport.kanxue.com/pc/view/img/hot.png" alt="">
                    </li> -->
                    <li class="nav-item  position-relative">
                        <div class="dropdown">
                            <a class="dropdown-toggle nav-link px-0" href="#" role="button" id="ctfdropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                CTF
                            </a>
                            <img class="position-absolute" style="width: 27px; top: -5px; right: -7px; z-index: 3;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/hot.png" alt="">
                            <div class="dropdown-menu " aria-labelledby="ctfdropdownMenuLink">
                                <a class="dropdown-item" style="color: #212529; font-weight: 400;" href="https://ctf.pediy.com/">CTF竞赛</a>
                                <a class="dropdown-item" style="color: #212529; font-weight: 400;" href="https://ctf.pediy.com/itembank.htm">题库</a>
                                
                            </div>
                        </div>
                    </li>
                    <li class="nav-item position-relative">
                            <a class="nav-link" href="https://www.kanxue.com/conference.htm">看雪峰会</a>
                            <!-- <img class="position-absolute" style="width: 27px; top: -5px; right: -7px; z-index: 3;" src="//passport.kanxue.com/pc/view/img/hot.png" alt="">  -->
                    </li>
                    <!-- <li class="nav-item position-relative">
                        <a class="nav-link" href="//www.kanxue.com/mrt.htm">看雪20年</a>
                        <img class="position-absolute" style="width: 27px; top: -5px; right: -7px; z-index: 3;" src="//passport.kanxue.com/pc/view/img/hot.png" alt=""> 
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" target="_blank" href="https://qifu.kanxue.com/">企服</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://job.kanxue.com/">招聘</a>
                    </li>
                    
                    <li class="nav-item">
                        <div class="dropdown">
                            <a class="dropdown-toggle nav-link px-0" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                发现
                            </a>
                            <div class="dropdown-menu " aria-labelledby="dropdownMenuLink">
                                <!-- <a class="dropdown-item" href="//ctf.pediy.com">CTF</a> -->
                                <a class="dropdown-item" href="https://ce.kanxue.com/">众测</a>
                                <a class="dropdown-item" href="https://www.kanxue.com/rank.htm">排行榜</a>
                                <a class="dropdown-item" href="https://www.kanxue.com/chm.htm">知识库</a>
                                <a class="dropdown-item" href="https://www.kanxue.com/tool.htm">工具下载</a>
                                <!-- <a class="dropdown-item" href="//www.kanxue.com/conference.htm">看雪峰会</a> -->
                                <a class="dropdown-item" href="https://www.kanxue.com/mrt.htm">看雪20年</a>
                                <a class="dropdown-item" href="https://www.kanxue.com/shop.htm">看雪商城</a>
                            </div>
                        </div>
                    </li>
                    <li class="seach_li">
                        <form class="form-inline my-2 my-lg-0 mr-auto" action="search.htm" id="search_form" style="margin-right: 20px; max-width: 150px;">
                            <div class="input-group home_seach_form">
                                <input type="text" class="form-control border-0" name="keyword" placeholder="论坛关键词 回车搜索">
                                <div class="input-group-append">
                                    <button class="btn px-2" type="submit" id="button-addon2">
                                        <i class="icon-search"></i>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </li>
                </ul>
                
            </div>
            <div class="text-right nav_user_item" style="white-space: nowrap;">
                                    
                <a class="login_btn" href="https://passport.kanxue.com/user-login.htm">登录</a>
                <a class="reg_btn ml-2" href="https://passport.kanxue.com/user-mobile-1.htm">注册</a>
                            </div>
            
        </nav>
    </div>
</header>
<div class="position-fixed w-100 header_fiexd bottom-nav" style="width: 100%; height: 50px; bottom: 0; z-index: 2; background: #fafafa;">
    <div class="row mx-0 text-center align-items-center" style="height: 50px;">
        <a href="https://www.kanxue.com/" class="d-inline-blok col px-0 header_nav_a opts-group " style="max-width: 20%;">
            <div>
                <i class="icon-home"></i>
            </div>
            <div>
                首页
            </div>
        </a>
        <a href="https://bbs.pediy.com/" class="d-inline-blok col px-0 header_nav_a opts-group active" style="max-width: 20%;">
            <div>
                <i class="icon-comments"></i>
            </div>
            <div>
                论坛
            </div>
        </a>
        
        <a href="https://www.kanxue.com/course.htm" class="d-inline-blok col px-0 header_nav_a opts-group" style="max-width: 20%;">
            <div>
                <i class="icon-book"></i>
            </div>
            <div>
                课程
            </div>
        </a>
        <a href="https://job.kanxue.com/" class="d-inline-blok col px-0 header_nav_a opts-group" style="max-width: 20%;">
            <div>
                <i class="icon-clipboard"></i>
            </div>
            <div>
                招聘
            </div>
        </a>
        <!-- <a href="#" class="d-inline-blok col px-0" style="max-width: 20%;"> -->
        <div class=" dropup d-inline-blok col px-0" style="max-width: 20%;">
            <a class="dropdown-toggle d-inline-block header_nav_a opts-group" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <div>

                    <i class="icon-list"></i>
                </div>
                <div>
                    发现
                </div>
            </a>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <a class="dropdown-item" href="https://qifu.kanxue.com/">企服</a>
                <a class="dropdown-item" href="https://zhuanlan.kanxue.com/">专栏</a>
                <a class="dropdown-item" href="https://ctf.pediy.com/">CTF</a>
                <a class="dropdown-item" href="https://ctf.pediy.com/itembank.htm">题库</a>
                <a class="dropdown-item" href="https://ce.kanxue.com/">众测</a>
                <a class="dropdown-item" href="https://www.kanxue.com/rank.htm">排行榜</a>
                <a class="dropdown-item" href="https://www.kanxue.com/chm.htm">知识库</a>
                <a class="dropdown-item" href="https://www.kanxue.com/tool.htm">工具下载</a>
                <a class="dropdown-item" href="https://www.kanxue.com/conference.htm">看雪峰会</a>
                <a class="dropdown-item" href="https://www.kanxue.com/mrt.htm">看雪20年</a>
                <a class="dropdown-item" href="https://www.kanxue.com/shop.htm">看雪商城</a>
            </div>
        </div>
        <!-- </a> -->
    </div>
</div>


	


		<main style="background: #f0f5f8 url(plugin/kanxue/img/body_bg.jpg) repeat-x" id="body"> 
	
	<div class="container">
			

		


					<style>
			.qqFace img:hover {
				border-color: #0066cc !important;
			}
		</style>
		
		<ol class="breadcrumb mb-2 hidden-md-down">
			<li class="breadcrumb-item"><a href="https://bbs.pediy.com/" aria-label="首页"><i class="icon-home"></i> 看雪论坛</a></li>
			<li class="breadcrumb-item"><a href="https://bbs.pediy.com/forum-4.htm">『软件逆向』</a></li>
			<!-- <li class="breadcrumb-item active"><a href="thread-259746.htm" title="首页返回主题第一页">[原创]热血江湖游戏逆向（部分）</a></li> -->
			

			<div class="media-body text-right">
							<a href="https://bbs.pediy.com/thread-create-4.htm" role="button" class="btn btn-sm btn-primary" style="float: right;">发新帖</a>
						</div>
		</ol>
		
	
		<div class="card">
			<div class="card-body">
				<div class=" d-none d-lg-block">
					<dl class="row">
						<dt class="vtop pr-3" style="width: 70px; text-align: center;">
							<div class="avatar_info">
								<a class="d-inline-block position-relative photo_frame photo_frame_image1" href="https://bbs.pediy.com/user-889500.htm" aria-hidden="true" tabindex="-1">
									<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500.png">
								</a>
																<div style="height: 0px;">
									<span class="follow_btn_span" style="position: relative; top: -10px; padding: 3px; display: inline-flex; border-radius: 3em;background: #0099ee; ">
										<svg t="1587607678492" class="icon follow_btn_svg" style="cursor:pointer;width: 1em; height: 1em; vertical-align: middle; fill: currentcolor; overflow: hidden; font-size: 12px;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3883" width="16" height="16"><path d="M1005.179821 594.20261h-410.977211v410.977211H429.80251v-410.977211H18.820179V429.80251H429.80251V18.820179h164.4001V429.80251h410.977211v164.4001z" p-id="3884" fill="#ffffff"></path></svg>
									</span>
								</div>
																<div class="mt-3">
									<span class="group group-102" data-gid="102" onmouseover="show_level(event)" title="二级"></span>
									<!-- <span title="二级" style="font-size: 10px; padding: 0 6px; border-radius: 10px; background-color: #4A4A4A; color: #f5f5f5;">
										LV3
									</span> -->
									
								</div>
								
								<!-- <div class="mt-1" style="position: relative; height: 16px;">
									<img style="position:absolute;left: 6px;" src="//bbs.pediy.com/view/img/stars01.gif" alt=""> 
								</div> -->
								
							</div>
						</dt>
						
						<dd class="vtop">
							<dl class="row small" style="height: 34px; line-height: 34px;">
								<dt style="padding: 0px;">
									
									<h3 class="break-all subject m-0">
																						
																[原创]热血江湖游戏逆向（部分）																				
																		
												
									</h3>
									
								</dt>
								<dd class="text-right">
									<span class="date text-grey ml-1">2020-5-25 22:03</span>
									<span class="text-grey ml-3 hidden-md-down"><i class="icon-eye" aria-hidden="true"></i> 1615</span>
								</dd>
							</dl>
							<dl class="row small mt-0">
								<dt style="padding: 0px;">
									
									<div>
										<span class="username font-weight-bold">
											<a href="https://bbs.pediy.com/user-889500.htm">tutuj</a>
										</span>
										
																				
										<span class="post_online_time" style="vertical-align: text-bottom;" data-online_time="50120" data-desc="在线时长: 13 小时 ( 1 级)&lt;br/&gt; 升级还需要 10 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									</div>
									
								</dt>
								<dd class="text-right">
																																				
																		
																	</dd>
							</dl>
							
													</dd>
					</dl>
				</div>
				<!-- choadi 手机端适配 开始-->
				<div class="px-3 pt-3 d-block d-lg-none">
					
					<h3 class="break-all subject m-0">
																		
												[原创]热血江湖游戏逆向（部分）												
																		
												
					</h3>
					
					<div class="row mx-0 mt-2">
						<div class="col-8 px-0">
							<a href="https://bbs.pediy.com/user-889500.htm" style="text-decoration: none;" aria-hidden="true" tabindex="-1">
								<img style="width: 2rem; height: 2rem; border-radius: 6rem;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500.png">
							</a>
							
							<a class="small" href="https://bbs.pediy.com/user-889500.htm" style="text-decoration: none;">tutuj</a>
														
							<span style="vertical-align: text-bottom; transform:scale(.8); -ms-transform:scale(.8); -webkit-transform:scale(.8);" class="group group-102" data-gid="102" onmouseover="show_level(event)" title="二级"></span>
								
													</div>
						<div class="col px-0 text-right">
															
																
																
														</div>
						<!-- <img style="" src="//bbs.pediy.com/view/img/stars01.gif" alt="">  -->
						
						
					</div>
					<div class="small row mx-0 mt-2">
						<div class="col px-0">
							<span class="post_online_time" style="vertical-align: text-bottom;" data-online_time="50120" data-desc="在线时长: 13 小时 ( 1 级)&lt;br/&gt; 升级还需要 10 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
						</div>
						<div class="col px-0 text-right">
																					
													</div>
					</div>
					<div class="small row mx-0 mt-2">
						<div class="col px-0"><span class="date text-grey">2020-5-25 22:03</span></div>
						<div class="col px-0 text-right"><span class="text-grey hidden-md-down"><i class="icon-eye" aria-hidden="true"></i> 1615</span></div>
					</div>
					
									</div>
				<!-- choadi 手机端适配 结束-->


				<hr aria-hidden="true">
				
				<div class="message break-all" isfirst="1">
								
					
					<h1><a name="外挂编写（一）" class="anchor" href="#外挂编写（一）"><span class="header-link"></span></a>外挂编写（一）</h1><h2><a name="学习案例：热血江湖" class="anchor" href="#学习案例：热血江湖"><span class="header-link"></span></a>学习案例：热血江湖</h2><h2><a name="">visual studio 2019</a>" class="anchor" href="#使用环境：<a href="https://visualstudio.microsoft.com/zh-hans/vs/">visual studio 2019</a>"&gt;<span class="header-link"></span>使用环境：<a href="https://visualstudio.microsoft.com/zh-hans/vs/">Visual Studio 2019</a></h2><h1><a name="">逆向工具集</a>" class="anchor" href="#学习使用的工具：<a href="https://github.com/jiajinrong12138/reversetools">逆向工具集</a>"&gt;<span class="header-link"></span>学习使用的工具：<a href="https://github.com/JiaJinRong12138/reverseTools">逆向工具集</a></h1><h2><a name="注：更新日志：" class="anchor" href="#注：更新日志："><span class="header-link"></span></a>注：更新日志：</h2><ul>
<li>1.0：最新版人物信息基址：0x02C166D8；最新版背包存放基址：0x02E3B3E4</li>
<li>2.0：最新版物品使用call 为0x00838480</li>
<li>3.0：<ul>
<li>人物基址：0x02C176D8‬；</li>
<li>背包存放基址：0x02E3C3E4；</li>
<li>游戏主窗口基址：0x01195F88；</li>
<li>使用物品的CALL：0x008384F0；</li>
<li>人物动作基址：0x02E3CD58；</li>
<li>动作使用的CALL：0x007139E0；</li>
<li>所有对象数组：0x2E64A28；</li>
<li>怪物基址：0x427FBA0</li>
<li>角色对象基址：0x427FBA0</li>
</ul>
</li>
<li>4.0：最新版人物基址：<ul>
<li>游戏人物的基址：0x02C166D8</li>
<li>游戏背包的基址存放地址：0x02E3B3E4</li>
<li>添加背包物品使用CALL 的地址：0x008384A0</li>
<li>游戏主窗口基址：0x01194F88</li>
<li>怪物列表基址：0x427EBA0  </li>
<li>人物动作基址：0x02E3BD58</li>
<li>人物动作使用的CALL 的基址：0x00713990</li>
<li>角色对象的基址：0x427EBA0</li>
<li>所有对象的数组：0x2E63A28</li>
<li>攻击武功基址：0x02E3CF64</li>
<li>辅助武功基址：0x02E3CF68</li>
<li>添加技能到快捷栏的基址：0x00849780</li>
<li>选中物品基址：0x0125255C</li>
<li>快捷栏基址：0x02E3CF08</li>
<li>寻路基址：0x2E63A24</li>
<li>仓库基址：0x02E4492C</li>
<li>装备基址：0x02E3B3E0</li>
<li>打开NPC菜单CALL：0x007D5130</li>
<li>商店基址：0x02E65600</li>
<li>购买/出售 物品的基址：0x1195000</li>
<li>购买/出售 物品的CALL：0x004F8380</li>
<li>存取多个物品的基址：0x1195000</li>
<li>存取多个物品的CALL：0x004F8380</li>
<li>存取指令：<ul>
<li>存放：0xEB1C5211</li>
<li>取出：0x00000000</li>
</ul>
</li>
<li>操作类型：<ul>
<li>存取指令：0x008C0094 </li>
<li>购买/出售指令：0x00880092 </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a name="人物属性数据分析" class="anchor" href="#人物属性数据分析"><span class="header-link"></span></a>人物属性数据分析</h2><h3><a name="注：" class="anchor" href="#注："><span class="header-link"></span></a>注：</h3><ul>
<li><p>一般游戏开发的时候，相关的数据都是放到一个结构或者是一个类中，那么这些数据的内存地址相距的比较近；</p>
</li>
<li><p>一般内存地址使用CE工具逆向出来后表示为Client.exe+278A75C，表示软件地址加上偏移量为其基址</p>
</li>
</ul>
<h3><a name="hp值和mp值" class="anchor" href="#hp值和mp值"><span class="header-link"></span></a>HP值和MP值</h3><ul>
<li>生命值PH: Client.exe+278A75C =  02B8A758</li>
<li>内功值MH: Client.exe+278A75C = 02B8A75C</li>
</ul>
<h3><a name="金币值" class="anchor" href="#金币值"><span class="header-link"></span></a>金币值</h3><ul>
<li>进行商品的买卖实现金币值的变动</li>
<li>基址：Client.exe+278A7BC = 02B8A7BC</li>
</ul>
<h3><a name="其他人物属性分析" class="anchor" href="#其他人物属性分析"><span class="header-link"></span></a>其他人物属性分析</h3><ul>
<li>OD软件的使用<ul>
<li>使用dd 02B8A758 查找到人物属性基址块</li>
</ul>
</li>
<li>人物属性值以及对应的内存地址</li>
<li>基址 02B8A6D8<ul>
<li>+0：人物名字</li>
<li>+80：生命值(红/HP)</li>
<li>+84：内功值(蓝/MP)</li>
<li>+88：愤怒值 </li>
<li>+8C：最大生命值</li>
<li>+90：最大内功值</li>
<li>+94：最大值愤怒值</li>
<li>+98：当前经验值</li>
<li>+A0：升级到下一级要的经验值</li>
<li>势力 </li>
<li>+36：名声</li>
<li>+34：一字节空间表示等级</li>
<li>+35：一字节空间表示 几转</li>
<li>+AC：历练                             </li>
<li>制造  </li>
<li>熟练度  </li>
<li>灵兽持有  </li>
<li>精力</li>
<li>+C8：攻击                             </li>
<li>武器命中                      </li>
<li>+CC：防御                              </li>
<li>武器防御                      </li>
<li>+D0：命中                                    </li>
<li>对人战斗                             </li>
<li>+D4：回避                              </li>
<li>对怪攻击                      </li>
<li>武功回避                      </li>
<li>对怪防御                       </li>
<li>+B0：心                                  </li>
<li>+B4：气                                  </li>
<li>+B8：体                                  </li>
<li>+BC：魂         </li>
<li>+E4：金币值</li>
</ul>
</li>
<li>气功值分析<ul>
<li>气功点数：基址 + F0 = 02b8a7c8</li>
<li>第num个气功的点数：（一个字节）02B8A6D8+0f0+4*num</li>
<li>可能是第num个气功的ID(没有就为0)：02B8A6D8+0f0+4*num+2</li>
</ul>
</li>
</ul>
<h2><a name="通过注入游戏进程读取游戏内数据" class="anchor" href="#通过注入游戏进程读取游戏内数据"><span class="header-link"></span></a>通过注入游戏进程读取游戏内数据</h2><ul>
<li><p>注入DLL</p>
<ul>
<li><p>创建MFC DLL</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_QFE7T8QWN8DZWG9.jpg" style="max-width: 100%; cursor: pointer;" alt="创建MFC_DLL" class="div_message_boxShadow"></p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_6UK9EHDRF69YK2C.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_XDZTJKPC3TDQN2C.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
</li>
</ul>
</li>
<li><p>在添加窗口后，需要进行配置，才能在动态链接库注入后显示窗口</p>
<ul>
<li><p>为窗口添加Class</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_6CG85PP3BUHAK2N.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
</li>
<li><p>修改MFC_DLL.cpp的代码</p>
<ul>
<li><p>```C++<br>// MFC_DLL.cpp: 定义 DLL 的初始化例程。<br>//</p>
<p>#include "pch.h"<br>#include "framework.h"<br>#include "MFC_DLL.h"</p>
<p>// 包含含有主窗口的class1的头文件<br>#include "CMainDialogWnd.h"</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python comments">#ifdef _DEBUG</code></div><div class="line number2 index1 alt1"><code class="python comments">#define new DEBUG_NEW</code></div><div class="line number3 index2 alt2"><code class="python comments">#endif</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="python plain">BEGIN_MESSAGE_MAP(CMFCDLLApp, CWinApp)</code></div><div class="line number7 index6 alt2"><code class="python plain">END_MESSAGE_MAP()</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">CMFCDLLApp 构造</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="python plain">CMFCDLLApp::CMFCDLLApp()</code></div><div class="line number13 index12 alt2"><code class="python plain">{</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">TODO:&nbsp; 在此处添加构造代码，</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">将所有重要的初始化放置在 InitInstance 中</code></div><div class="line number16 index15 alt1"><code class="python plain">}</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">唯一的 CMFCDLLApp 对象</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="python plain">CMFCDLLApp theApp;</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">CMFCDLLApp 初始化</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">定义全局的窗口变量</code></div><div class="line number27 index26 alt2"><code class="python plain">CMainDialogWnd</code><code class="python keyword">*</code> <code class="python plain">PMainDialog;</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="python functions">BOOL</code> <code class="python plain">CMFCDLLApp::InitInstance()</code></div><div class="line number30 index29 alt1"><code class="python plain">{</code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">CWinApp::InitInstance();</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">添加显示窗口的代码</code></div><div class="line number34 index33 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">创建对象，划分空间</code></div><div class="line number35 index34 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">PMainDialog </code><code class="python keyword">=</code> <code class="python plain">new CMainDialogWnd;</code></div><div class="line number36 index35 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">DoModal 是以阻塞的方式来运行</code></div><div class="line number37 index36 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">PMainDialog</code><code class="python keyword">-</code><code class="python plain">&gt;DoModal();</code></div><div class="line number38 index37 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">释放空间</code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">delete PMainDialog;</code></div><div class="line number40 index39 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python plain">TRUE;</code></div><div class="line number41 index40 alt2"><code class="python plain">}</code></div><div class="line number42 index41 alt1">&nbsp;</div><div class="line number43 index42 alt2"><code class="python plain">```</code></div></div></td></tr></tbody></table><ul>
<li><p>使用<a href="https://github.com/JiaJinRong12138/reverseTools/blob/master/README.md">注入工具</a>讲编译生成的DLL 注入到游戏进程中</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_HCCWA835VR4BK8B.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
<ul>
<li><p>注：DoModal() 函数是以阻塞的方式去执行的，所以会造成线程阻塞</p>
</li>
<li><p>解决方式：将DoModal() 放到新的线程去执行</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_AXAE9NJGG6DFBGA.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
</li>
<li><p>实现窗口关闭后自动释放DLL</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_W89N6PJRAE3D2DP.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
</li>
</ul>
<h4><a name="使用代码实现动态连接库的注入" class="anchor" href="#使用代码实现动态连接库的注入"><span class="header-link"></span></a>使用代码实现动态连接库的注入</h4></li>
<li><p>使用到的windows API</p>
<ul>
<li>HWND FindWindow(lpClassName, lpWindowNAme) <ul>
<li>通过类名指针或窗口名指针获取窗口句柄</li>
</ul>
</li>
<li>DWORD GetWindowThreadProcessId(hwnd(窗口句柄), lpdwProcessId) <ul>
<li>获取窗口线程句柄的ID(lpdwProcessId)</li>
</ul>
</li>
<li>HANDLE WINAPI OpenProcess(dwDesiredAccess(访问权限), bInheritHandle, dwProcessId)<ul>
<li>开启并创建一个本地进程</li>
</ul>
</li>
<li>LPVOID WINAPI VirtualAllocEx(hProcess, lpAddress, dwSize, flAllocationType, flProtect)<ul>
<li>分配内存空间</li>
</ul>
</li>
<li>BOOL WINAPI WriteProcessMemory(hProcess, lpBaseAddress, lpBuffer, nSize, lpNumberOfBytesWritten)<ul>
<li>向内存中写入数据</li>
</ul>
</li>
<li>HANDLE WINAPI CreateRemoteThread(hProcess, lpThreadAttributes, 
dwStackSize, lpStartAddress, lpParameter, dwCreationFlags, lpThreadId)<ul>
<li>为进程创建一个线程</li>
</ul>
</li>
<li>DWORD WINAPI WaitForSingleObject(hHandle, dwMilliseconds)<ul>
<li>等待单个对象执行后再进行操作</li>
</ul>
</li>
<li>BOOL WINAPI CloseHandle(hObject)<ul>
<li>关闭句柄</li>
</ul>
</li>
<li>BOOL WINAPI VirtualFreeEx(hProcess, lpAddress, dwSize, dwFreeType)<ul>
<li>释放内存空间</li>
</ul>
</li>
<li>BOOL WINAPI CloseHandle(hObject)<ul>
<li>关闭句柄</li>
</ul>
</li>
</ul>
</li>
</ul>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python comments">#### 代码</code></div></div></td></tr></tbody></table><pre class="">#include &lt;iostream&gt;
#include &lt;windows.h&gt;
#define GameClassName "D3D Window"
#define DllPath "D:\\c_work\\MFC_DLL\\Debug\\MFC_DLL.dll"

using namespace std;


void InjectDll() {

    DWORD pid = 0;
    HANDLE hProcess = NULL;
    LPDWORD lpAddr = NULL; // 获取远程分配成功的地址
    DWORD size = NULL;
    HANDLE threadHandle = NULL;

    // 获取游戏窗口句柄
    HWND GameH = FindWindow((LPCTSTR)GameClassName, NULL);
    if (GameH != 0) {
        //句柄获取成功
        // 获取进程PID

        GetWindowThreadProcessId(GameH, &amp;pid);
        if (pid != 0) {
            // PID 获取成功
            // 获取进程句柄
            // 开启所以权限打开进程

            hProcess = OpenProcess(PROCESS_ALL_ACCESS,FALSE ,pid);
            if (hProcess != NULL) {
                // 打开进程成功
                // 分配内存空间，写入动态链接库的全路径名
                //D:\\c_work\\MFC_DLL\\Debug\\MFC_DLL.dll

                lpAddr = (LPDWORD)VirtualAllocEx(hProcess, NULL, 256, MEM_COMMIT, PAGE_READWRITE);
                if (lpAddr != NULL) {
                    // 地址分配成功, 写入DLL 的全路径

                    WriteProcessMemory(hProcess, lpAddr, DllPath, strlen(DllPath) + 1, &amp;size);
                    if (size &gt;= strlen(DllPath)) {
                        threadHandle = CreateRemoteThread(hProcess, NULL, NULL, (LPTHREAD_START_ROUTINE)LoadLibraryA, lpAddr, NULL, NULL);
                        // 等待注入DLL 的线程执行完再执行下一步(等待的进程句柄， 等到多少毫秒)
                        WaitForSingleObject(threadHandle, 0xFFFFFFFF);
                        // 关闭线程
                        CloseHandle(threadHandle);
                        // 释放进程
                        VirtualFreeEx(hProcess, lpAddr, 256, MEM_DECOMMIT);
                        // 关闭句柄
                        CloseHandle(hProcess);


                        // 清除内存数据

                    }
                    else {
                        cout &lt;&lt; "写入DLL 失败" &lt;&lt; endl;
                    }
                }
                else {
                    cout &lt;&lt; "地址分配失败" &lt;&lt; endl;
                }

            }
            else {
                cout &lt;&lt; "打开进程失败" &lt;&lt; endl;
            }
        }
        else {
            cout &lt;&lt; "获取PID 失败" &lt;&lt; endl;
        }
    }
    else {
        cout &lt;&lt; "获取窗口句柄失败" &lt;&lt; endl;
    }

}

int main()
{

    // 添加注入DLL 代码
    cout &lt;&lt; "开始注入DLL" &lt;&lt; endl;
    InjectDll();
    cout &lt;&lt; "注入DLL结束" &lt;&lt; endl;

}
</pre>
<ul>
<li>步骤<ol>
<li>获取窗口对应的进程的PID</li>
<li>根据PID 获取进程</li>
<li>获取游戏进程的PID</li>
<li>根据PID 获取进程</li>
<li>在目标进程分配内存空间，方便写入DLL 全路径</li>
<li>将DLL 全路径写入到目标进程</li>
<li>远程注入DLL</li>
<li>等待目标进程执行完成</li>
<li>释放进程空间</li>
<li>关闭线程句柄</li>
</ol>
</li>
</ul>
<h3><a name="整合游戏内数据" class="anchor" href="#整合游戏内数据"><span class="header-link"></span></a>整合游戏内数据</h3><ul>
<li><p>整数</p>
<ul>
<li>QWORD 类型变量      nq前缀 //8字节 无符号整数 不能表示负数</li>
<li>DWORD 类型变量      nd前缀 //4字节 无符号整数 不能表示负数</li>
<li>WORD  类型变量      nw前缀 //2字节 无符号整数 不能表示负数</li>
<li>BYTE  类型变量      nb前缀 //1字节 无符号整数 不能表示负数</li>
<li>int   带符号类型    ni前缀 //4字节 带符号整数 可表示正负数</li>
<li>_<em>int64  带符号整型 ni64</em>  //8字节 带符号整数 不能表示负数</li>
<li>UINT 类型变量       ui前缀 // 无符号整数 一般是4字节</li>
<li>//浮点数</li>
<li>float  单精度浮点数  fl前缀</li>
<li>double 双精度浮点数  fd前缀</li>
</ul>
</li>
<li><p>字符串</p>
<ul>
<li>char*和char []  sz前缀 //PCHAR szp</li>
</ul>
</li>
<li>CString         str前缀</li>
<li>结构名          T开头全大写</li>
<li>类名            C开头单词首字大写</li>
</ul>
<h4><a name="整合游戏数据步骤" class="anchor" href="#整合游戏数据步骤"><span class="header-link"></span></a>整合游戏数据步骤</h4><ol>
<li><p>新建解决方案GameData</p>
</li>
<li><p>创建头文件BaseGame.h和 StructGame.h</p>
<hr>
<ul>
<li>BaseGame.h</li>
</ul>
<pre class="">#pragma once

// 游戏人物的基址
#define BaseRole 0x02B8A6D8
</pre>
<hr>
<ul>
<li>StructGame.h</li>
</ul>
<pre class="">#pragma once
#include &lt;windows.h&gt;
typedef unsigned __int64 QWORD;
// 游戏结构以及偏移量的管理

typedef struct TROLE_PROPERTY {

    // +0：人物名字
    char* szRoleName;
    // + 80：生命值(红 / HP)
    DWORD ndRoleHP;
    // + 84：内功值(蓝 / MP)
    DWORD ndRoleMP;
    // + 88：愤怒值
    DWORD ndRoleAnger;
    // + 8C：最大生命值
    DWORD ndRoleMaxHP;
    // + 90：最大内功值
    DWORD ndRoleMaxMP;
    // + 94：最大值愤怒值
    QWORD nqRoleMaxAnger;
    // + 98：当前经验值
    QWORD nqRoleExprienceNow;
    // + A0：升级到下一级要的经验值
    DWORD ndRoleExperienceNext;
    // + 36：名声
    char* szReputation;
    // + 34：一字节空间表示等级
    BYTE nbClassValue;
    // + 35：一字节空间表示 几转
    BYTE nbJZ;
    // + AC：历练
    DWORD ndExprience;
    // + C8：攻击
    DWORD ndAttack;
    // + CC：防御
    DWORD ndDefense;
    // + D4：回避
    DWORD ndAvoid;
    // + B0：心
    DWORD ndHeart;
    // + B4：气
    DWORD ndGas;
    // + B8：体
    DWORD ndBody;
    // + BC：魂
    DWORD ndSoul;
    // + E4：金币值
    QWORD nqMoney;
    // 气功
    DWORD ndQg[32];

    TROLE_PROPERTY* GetData();

    char* GetRoleName();

}_TROLE_PROPERTY;
</pre>
</li>
</ol>
<ol>
<li><p>创建源文件StructGame.cpp</p>
<hr>
<ul>
<li>StructGame.cpp</li>
</ul>
<p>```c++<br>#include "StructGame.h"<br>#include "BaseGame.h"<br>TROLE_PROPERTY* TROLE_PROPERTY::GetData()<br>{</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">添加异常处理</code></div><div class="line number2 index1 alt1"><code class="python keyword">try</code> <code class="python plain">{</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code><code class="python value">0</code><code class="python plain">：人物名字</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">szRoleName </code><code class="python keyword">=</code> <code class="python plain">(char</code><code class="python keyword">*</code><code class="python plain">)BaseRole;</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">80</code><code class="python plain">：生命值(红 </code><code class="python keyword">/</code> <code class="python plain">HP)</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndRoleHP </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x80</code><code class="python plain">);</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">84</code><code class="python plain">：内功值(蓝 </code><code class="python keyword">/</code> <code class="python plain">MP)</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndRoleMP </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x84</code><code class="python plain">);</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">88</code><code class="python plain">：愤怒值</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndRoleAnger </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x88</code><code class="python plain">);</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">8C</code><code class="python plain">：最大生命值</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndRoleMaxHP </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x8c</code><code class="python plain">);</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">90</code><code class="python plain">：最大内功值</code></div><div class="line number14 index13 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndRoleMaxMP </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x90</code><code class="python plain">);</code></div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">94</code><code class="python plain">：最大值愤怒值</code></div><div class="line number16 index15 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nqRoleMaxAnger </code><code class="python keyword">=</code> <code class="python plain">(QWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x94</code><code class="python plain">);</code></div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">98</code><code class="python plain">：当前经验值</code></div><div class="line number18 index17 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nqRoleExprienceNow </code><code class="python keyword">=</code> <code class="python plain">(QWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x98</code><code class="python plain">);</code></div><div class="line number19 index18 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">A0：升级到下一级要的经验值</code></div><div class="line number20 index19 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndRoleExperienceNext </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xA0</code><code class="python plain">);</code></div><div class="line number21 index20 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">36</code><code class="python plain">：名声</code></div><div class="line number22 index21 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">szReputation </code><code class="python keyword">=</code> <code class="python plain">(char</code><code class="python keyword">*</code><code class="python plain">)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x36</code><code class="python plain">);</code></div><div class="line number23 index22 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">34</code><code class="python plain">：一字节空间表示等级</code></div><div class="line number24 index23 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nbClassValue </code><code class="python keyword">=</code> <code class="python keyword">*</code><code class="python plain">(BYTE</code><code class="python keyword">*</code><code class="python plain">)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x34</code><code class="python plain">);</code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python value">35</code><code class="python plain">：一字节空间表示 几转</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nbJZ </code><code class="python keyword">=</code> <code class="python keyword">*</code><code class="python plain">(BYTE</code><code class="python keyword">*</code><code class="python plain">)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x35</code><code class="python plain">);</code></div><div class="line number27 index26 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">AC：历练</code></div><div class="line number28 index27 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndExprience </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xac</code><code class="python plain">);</code></div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">C8：攻击</code></div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndAttack </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xc8</code><code class="python plain">);</code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">CC：防御</code></div><div class="line number32 index31 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndDefense </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xcc</code><code class="python plain">);</code></div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">D4：回避</code></div><div class="line number34 index33 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndAvoid </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xd4</code><code class="python plain">);</code></div><div class="line number35 index34 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">B0：心</code></div><div class="line number36 index35 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndHeart </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xb0</code><code class="python plain">);</code></div><div class="line number37 index36 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">B4：气</code></div><div class="line number38 index37 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndGas </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xb4</code><code class="python plain">);</code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">B8：体</code></div><div class="line number40 index39 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndBody </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0x8c</code><code class="python plain">);</code></div><div class="line number41 index40 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">BC：魂</code></div><div class="line number42 index41 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndSoul </code><code class="python keyword">=</code> <code class="python plain">(DWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xbc</code><code class="python plain">);</code></div><div class="line number43 index42 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python keyword">+</code> <code class="python plain">E4：金币值</code></div><div class="line number44 index43 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">nqMoney </code><code class="python keyword">=</code> <code class="python plain">(QWORD)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xe4</code><code class="python plain">);</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">(</code><code class="python functions">int</code> <code class="python plain">i </code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">; i &lt; </code><code class="python value">32</code><code class="python plain">; i</code><code class="python keyword">+</code><code class="python keyword">+</code><code class="python plain">) {</code></div><div class="line number47 index46 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndQg[i] </code><code class="python keyword">=</code> <code class="python keyword">*</code><code class="python plain">(BYTE</code><code class="python keyword">*</code><code class="python plain">)(BaseRole </code><code class="python keyword">+</code> <code class="python value">0xf0</code> <code class="python keyword">+</code> <code class="python value">4</code> <code class="python keyword">*</code> <code class="python plain">(i </code><code class="python keyword">+</code> <code class="python value">1</code><code class="python plain">));</code></div><div class="line number48 index47 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number49 index48 alt2"><code class="python plain">}</code></div><div class="line number50 index49 alt1"><code class="python plain">catch (...) {</code></div><div class="line number51 index50 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">处理所有的异常</code></div><div class="line number52 index51 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">OutputDebugStringA(</code><code class="python string">"读取人物数据异常\r\n"</code><code class="python plain">);</code></div><div class="line number53 index52 alt2"><code class="python plain">}</code></div></div></td></tr></tbody></table></li>
</ol>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">return</code> <code class="python plain">this;</code></div></div></td></tr></tbody></table><p>   }</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;">&nbsp;</div><p>   // 获取角色的名称、<br>   char* TROLE_PROPERTY::GetRoleName() {<br>       return GetData()-&gt;szRoleName;<br>   }</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python comments">### VS2019 导入静态链接库（lib）、配置输出路径的方式</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python keyword">*</code> <code class="python plain">配置链接库路径</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">配置 附加包含目录</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">![](https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">i.loli.net</code><code class="python keyword">/</code><code class="python value">2019</code><code class="python keyword">/</code><code class="python value">07</code><code class="python keyword">/</code><code class="python value">12</code><code class="python keyword">/</code><code class="python value">5d282a710f95f93418</code><code class="python plain">.png)</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">配置 添加库目录</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">![](https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">i.loli.net</code><code class="python keyword">/</code><code class="python value">2019</code><code class="python keyword">/</code><code class="python value">07</code><code class="python keyword">/</code><code class="python value">12</code><code class="python keyword">/</code><code class="python value">5d282aa5ca58875840</code><code class="python plain">.png)</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="python keyword">*</code> <code class="python plain">配置编译输出路径</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">修改输出目录</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">![](https:</code><code class="python keyword">/</code><code class="python keyword">/</code><code class="python plain">i.loli.net</code><code class="python keyword">/</code><code class="python value">2019</code><code class="python keyword">/</code><code class="python value">07</code><code class="python keyword">/</code><code class="python value">12</code><code class="python keyword">/</code><code class="python value">5d282b31d492535906</code><code class="python plain">.png)</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="python comments">### 游戏中的物品使用</code></div><div class="line number22 index21 alt1"><code class="python keyword">*</code> <code class="python plain">在游戏中，对应的物品都会有一个结构</code><code class="python keyword">/</code><code class="python plain">类，包含了物品的一些信息</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="python keyword">*</code> <code class="python plain">使用物品实际上调用了应该CALL</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="python comments">##### 以金疮药为例</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="python keyword">*</code> <code class="python plain">寻CALL 的过程</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">使用CE工具找到对象地址指针</code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">去查看访问改指针的地址</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">使用OD 工具对这些地址进行动态调试</code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">远程注入代码（使用金疮药）</code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1"><code class="python spaces">&nbsp;&nbsp;</code><code class="python keyword">*</code> <code class="python plain">```汇编</code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">push </code><code class="python value">1</code></div><div class="line number40 index39 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">push </code><code class="python value">1</code></div><div class="line number41 index40 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">push </code><code class="python value">0</code></div><div class="line number42 index41 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">mov ecx, </code><code class="python value">21DF06D0</code></div><div class="line number43 index42 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">call </code><code class="python value">00838470</code></div></div></td></tr></tbody></table><h5><a name="背包数据的分析" class="anchor" href="#背包数据的分析"><span class="header-link"></span></a>背包数据的分析</h5><ul>
<li>背包在游戏中一般会写成应该结构体/类来存放物品对象</li>
<li>物品对象在背包中使用数组的形式存在</li>
<li>汇编中数组的访问方式一般是 <strong>数组基址 + 4 * i</strong>（' i '为数组下标）</li>
<li>查找背包数组基址：<ul>
<li>找到背包的物品格</li>
<li>反复讲里面的物品拿出/放入</li>
<li>使用CE工具进程分析</li>
</ul>
</li>
<li><strong>结果</strong><ul>
<li>存放背包基址的内存空间：0x02DAF3E4</li>
<li>第num 个格子的数据获取<ul>
<li><strong><em>背包基址+num\</em>4+0x43C</strong></li>
<li>注：0x43 是偏移量</li>
<li>物品对象指针 + 0x64 = 物品名字</li>
<li>物品对象指针 + 0xf9 = 对物品的描述</li>
<li>物品对象指针 + 0xC4C = 物品剩余数量</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3><a name="封装背包数据" class="anchor" href="#封装背包数据"><span class="header-link"></span></a>封装背包数据</h3><h4><a name="封装背包结构体" class="anchor" href="#封装背包结构体"><span class="header-link"></span></a>封装背包结构体</h4><pre class="">// 物品结构
typedef struct TBACKPACK_GOODS {

    // *物品对象指针 + 0x64 = 物品名字
    char* szGoodsName;
    // * 物品对象指针 + 0xf9 = 对物品的描述
    char* szGoodsIntro;
    // * 物品对象指针 + 0xC4C = 物品剩余数量
    DWORD ndGoodsNum;

} _TBACKPACK_GOODS;

// 背包结构
typedef struct TGOODSLIST_PROPERTY {
    _TBACKPACK_GOODS mtGoodsList[nGoodsNum];

    // 对数据的初始化
    TGOODSLIST_PROPERTY* getData();
}_TGOODSLIST_PROPERTY;
</pre>
<h4><a name="" class="anchor" href="#实现初始化方法（getdate()）"><span class="header-link"></span></a>实现初始化方法（getDate()）</h4><pre class="">TGOODSLIST_PROPERTY* TGOODSLIST_PROPERTY::getData()
{

    // 通过获取背包基址对每样物品进行分析

// *物品对象指针 + 0x64 = 物品名字
#define GOODSNAME 0x64
// * 物品对象指针 + 0xf9 = 对物品的描述
#define GOODSINTRO 0xf9
// * 物品对象指针 + 0xC4C = 物品剩余数量
#define GOODSNUM 0xc4c

    // 背包公式： ndBaseAddr + num*4 + 0x43c
    try {
        // 读取背包基址
        DWORD ndBase = *(DWORD*)(BaseBackpack);
        // 第一个物品的地址
        DWORD ndFirstGoodsBase = ndBase + 4 * 0 + 0x43c;
        // 第一个物品的对象
        DWORD ndObj = NULL;
        for (int i = 0; i &lt; nGoodsNum; i++) {
            ndObj = *(DWORD*)(ndFirstGoodsBase + 4 * i); // 取出第i个对象的地址
            if (ndObj == NULL) {
                // 如果读取数据为0===&gt; 背包这一格没有物品
                this-&gt;mtGoodsList[i].ndGoodsNum = 0;
                continue;
            }
            // 读取物品的名字
            this-&gt;mtGoodsList[i].szGoodsName = (char*)(ndObj + GOODSNAME);
            // 读取物品的介绍
            this-&gt;mtGoodsList[i].szGoodsIntro = (char*)(ndObj + GOODSINTRO);
            // 读取物品的剩余数量
            this-&gt;mtGoodsList[i].ndGoodsNum = *(DWORD*)(ndObj + GOODSNUM);

        }
    }
    catch (...) {
        // 处理所有异常
        OutputDebugStringA("读取背包数据异常\r\n");
        MessageBox(NULL, "读取背包数据异常(StructGame)", "Error", MB_OK);
    }

    return this;
}
</pre>
<h4><a name="调试调用" class="anchor" href="#调试调用"><span class="header-link"></span></a>调试调用</h4><pre class="">void CMainDialogWnd::OnBnClickedButton1()
{
    TROLE_PROPERTY role;
    TROLE_PROPERTY* r = role.GetData();
    TGOODSLIST_PROPERTY goods;

    TRACE("GameDebug:我的调试信息\r\n");
    TRACE("GameDebug: 人物名=%s\r\n", r-&gt;GetRoleName());
    TRACE("GameDebug: 人物等级=%d\r\n", r-&gt;nbClassValue);
    TRACE("GameDebug: 人物名声=%s\r\n", r-&gt;szReputation);
    TRACE("GameDebug: 人物血量HP=%d//%d\r\n", r-&gt;ndRoleHP, r-&gt;ndRoleMaxHP);
    TRACE("GameDebug: 人物内功MP=%d//%d\r\n", r-&gt;ndRoleMP, r-&gt;ndRoleMaxMP);
    TRACE("GameDebug: 人物愤怒值=%d\r\n", r-&gt;ndRoleAnger);
    TRACE("GameDebug: 人物金币=%d\r\n", r-&gt;nqMoney);
    TGOODSLIST_PROPERTY* g = goods.getData();
    try {
        for (int i = 0; i &lt; nGoodsNum; i++) {
            if (g-&gt;mtGoodsList[i].ndGoodsNum == 0) {
                continue;
            }
            TRACE("GameDebug: 人物第%d格数据：%s\r%s\r%d\r\n", i,
                g-&gt;mtGoodsList[i].szGoodsName,
                g-&gt;mtGoodsList[i].szGoodsIntro,
                g-&gt;mtGoodsList[i].ndGoodsNum
            );
        }
    }
    catch (...) {
        MessageBox(TEXT("读取背包数据异常(Dialog)"), TEXT("Error"), MB_OK);
    }


    // 进行数据修改
}
</pre>
<h4><a name="文件结构" class="anchor" href="#文件结构"><span class="header-link"></span></a>文件结构</h4><p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_Y46DCZK5AB3HMT9.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
<h2><a name="背包物品的使用" class="anchor" href="#背包物品的使用"><span class="header-link"></span></a>背包物品的使用</h2><h3><a name="" class="anchor" href=""><span class="header-link"></span></a>之前Call 的分析</h3><table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">push 背包物品下标</code></div><div class="line number2 index1 alt1"><code class="python plain">push </code><code class="python value">1</code></div><div class="line number3 index2 alt2"><code class="python plain">push </code><code class="python value">0</code></div><div class="line number4 index3 alt1"><code class="python plain">mov ecx, 背包基址</code></div><div class="line number5 index4 alt2"><code class="python plain">call </code><code class="python value">00838470</code></div></div></td></tr></tbody></table><h4><a name="封装函数" class="anchor" href="#封装函数"><span class="header-link"></span></a>封装函数</h4><table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">UseGoods(char</code><code class="python keyword">*</code> <code class="python plain">szGoodsName)</code></div><div class="line number2 index1 alt1"><code class="python plain">{</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">若存在则使用它</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python value">1</code><code class="python plain">；</code></div><div class="line number5 index4 alt2"><code class="python plain">}</code></div></div></td></tr></tbody></table><h3><a name="背包物品使用代码" class="anchor" href="#背包物品使用代码"><span class="header-link"></span></a>背包物品使用代码</h3><ul>
<li>定义基址</li>
</ul>
<pre class="">// 添加背包物品使用CALL 的地址 ===&gt; 通过背包物品下标进行物品的使用
#define BaseCall_UseGoodsForIndex 0x00838470
</pre>
<ul>
<li>定义结构</li>
</ul>
<pre class="">// 背包结构
typedef struct TGOODSLIST_PROPERTY {
    // 背包列表
    _TBACKPACK_GOODS mtGoodsList[nGoodsNum];

    // 对数据的初始化
    TGOODSLIST_PROPERTY* getData();

    // 使用背包物品
    int UseGoodsForIndex(DWORD ndIndex);

    // 通过名字查询下标，存在返回下标，不存在返回FALSE
    int GetGoodsIndexByName(char* szGoodsName);

    // 根据物品的名字进行使用
    int UseGoodsForName(char* szGoodsName);
}_TGOODSLIST_PROPERTY;
</pre>
<ul>
<li>实现方法</li>
</ul>
<pre class="">// 通过物品下标使用物品
int TGOODSLIST_PROPERTY::UseGoodsForIndex(DWORD ndIndex) {

    try {
        // 使用内联汇编
        __asm {
            mov eax, ndIndex
            push eax
            push 1
            push 0
            // 读取背包地址
            mov ecx, [BaseBackpack]
            mov eax, BaseCall_UseGoodsForIndex
            call eax
        }
    }
    catch (...) {
        OutputDebugStringA("物品使用异常");
    }

    return TRUE;

}

int TGOODSLIST_PROPERTY::UseGoodsForName(char* szGoodsName)
{
    // 查找物品的下标
    DWORD ndIndex = this-&gt;GetGoodsIndexByName(szGoodsName);
    if (ndIndex != -1) {
        this-&gt;UseGoodsForIndex(ndIndex);
        return TRUE;
    }
    return FALSE;
}

int TGOODSLIST_PROPERTY::GetGoodsIndexByName(char* szGoodsName) {
    // 遍历整个背包，看是否存在该物品
    TGOODSLIST_PROPERTY* g = this-&gt;getData();// 初始化背包结构
    for (int i = 0; i &lt; nGoodsNum; i++) {
        // 比较字符串，判断该物品是否存在
        if (strcmp(szGoodsName, g-&gt;mtGoodsList[i].szGoodsName) == 0) {
            return i;
        }
    }

    return -1;
}
</pre>
<ul>
<li>调用方法，实现物品的使用</li>
</ul>
<pre class="">if (g-&gt;UseGoodsForName("回城符(泫勃派)")) {
        TRACE("GameDebug: 使用 回城符(泫勃派) 成功");
    }
</pre>
<ul>
<li><p>文件结构</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_FS5FEGZP6BQQZ9V.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
</li>
</ul>
<h2><a name="编写自定义的dbgprintmine方法用于打印格式化调式信息" class="anchor" href="#编写自定义的dbgprintmine方法用于打印格式化调式信息"><span class="header-link"></span></a>编写自定义的DbgPrintMine方法用于打印格式化调式信息</h2><pre class="">// DbgPrintMine.cpp : 此文件包含 "main" 函数。程序执行将在此处开始并结束。
//

#include &lt;iostream&gt;
#include &lt;windows.h&gt;
using namespace std;

// 定义变参函数
void DbgPrintMine(char* pszFormat, ...) {
#ifdef _DEBUG
    // 如果在DEBUG 版本下才执行以下代码
    // 定义list
    va_list argList;
    // 初始化list
    va_start(argList, pszFormat);
    // 定义字符串缓冲区
    char szBufFormat[0x1000];

    // 定义调试前缀
    char szBufFormat_Game[0x1008] = "Game:";


    // 获取参数 va_arg(list, paramType)
    /*int i = va_arg(argList, int);
    int j = va_arg(argList, int);
    char* szK = va_arg(argList, char*);*/


    vsprintf_s(szBufFormat, pszFormat, argList);
    strcat_s(szBufFormat_Game, szBufFormat);
    OutputDebugStringA(szBufFormat_Game);


    // 清除list
    va_end(argList);
#endif

}


int main()
{
    DbgPrintMine((char*)"%d, %d, %s\n", 1, 2, "贾谨荣");
    system("pause");
}
</pre>
<h2><a name="注：多线程访问数据造成异常的原因以及解决方式" class="anchor" href="#注：多线程访问数据造成异常的原因以及解决方式"><span class="header-link"></span></a>注：多线程访问数据造成异常的原因以及解决方式</h2><h4><a name="造成异常的原因：" class="anchor" href="#造成异常的原因："><span class="header-link"></span></a>造成异常的原因：</h4><ul>
<li>游戏主线程与外挂线程同时访问共享数据区域，造成程序异常</li>
<li>让两个线程依次使用共享数据或者将注入线程到主线程</li>
</ul>
<h4><a name="模拟游戏主线程和辅助线程同时执行" class="anchor" href="#模拟游戏主线程和辅助线程同时执行"><span class="header-link"></span></a>模拟游戏主线程和辅助线程同时执行</h4><p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_EYEMYWWD3JQTKF2.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
<ul>
<li>代码</li>
</ul>
<pre class="">// 定义变参函数
void DbgPrintMine(char* pszFormat, ...) {
#ifdef _DEBUG
    // 如果在DEBUG 版本下才执行以下代码
    // 定义list
    va_list argList;
    // 初始化list
    va_start(argList, pszFormat);
    // 定义字符串缓冲区
    char szBufFormat[0x1000];

    // 定义调试前缀
    char szBufFormat_Game[0x1008] = "Game:";


    // 获取参数 va_arg(list, paramType)
    /*int i = va_arg(argList, int);
    int j = va_arg(argList, int);
    char* szK = va_arg(argList, char*);*/


    vsprintf_s(szBufFormat, pszFormat, argList);
    strcat_s(szBufFormat_Game, szBufFormat);
    OutputDebugStringA(szBufFormat_Game);


    // 清除list
    va_end(argList);
#endif

}

DWORD g_ndGameData[10] = { 111, 222, 333, 444, 555, 666, 777, 888, 999, 000 };
DWORD* g_pndGameData[10];

void UseGoods(char* szGoodsName) {

    for (int i = 0; i &lt; 10; i++) {
        DbgPrintMine("%s, %d\r\n", szGoodsName, *g_pndGameData[i]);
        Sleep(1 * 1000);
    }
    return;
}

DWORD WINAPI GameMainThreadProc(LPVOID lpData) {
    while (TRUE) {
        // 初始化内存
        memset(g_pndGameData, NULL, sizeof(g_pndGameData));
        for (int i = 0; i &lt; 10; i++) {
            g_pndGameData[i] = g_ndGameData + i; // &amp;g_ndGameData[i]
            Sleep(1000);
        }
        // 物品使用的CALL
        UseGoods("游戏主线程");
    }
}

DWORD WINAPI GameMyThreadProc(LPVOID lpData) {
    while (TRUE) {
        // 初始化内存

        UseGoods("外挂线程:222");
        Sleep(1 * 1000);
    }
}

// 游戏主线程
void CDataExceptionTestDlg::OnBnClickedButton1()
{
    // TODO: 在此添加控件通知处理程序代码
    CreateThread(NULL, NULL, GameMainThreadProc, NULL, 0, NULL);
}

// 外挂线程
void CDataExceptionTestDlg::OnBnClickedButton2()
{
    // TODO: 在此添加控件通知处理程序代码
    CreateThread(NULL, NULL, GameMyThreadProc, NULL, 0, NULL);
}
</pre>
<ul>
<li>异常</li>
</ul>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_UKP73A4WQ2XSJWE.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
<h4><a name="解决方式" class="anchor" href="#解决方式"><span class="header-link"></span></a>解决方式</h4><ul>
<li><p>将程序注入到主线程</p>
</li>
<li><p>使用临界区</p>
<ul>
<li><p>1</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_VYEURPQX3SKWMPB.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
</li>
<li><p>2、代码</p>
<p>```c++</p>
<p>// 定义变参函数<br>void DbgPrintMine(char* pszFormat, ...) {<br>#ifdef _DEBUG</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">如果在DEBUG 版本下才执行以下代码</code></div><div class="line number2 index1 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">定义</code><code class="python functions">list</code></div><div class="line number3 index2 alt2"><code class="python plain">va_list argList;</code></div><div class="line number4 index3 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">初始化</code><code class="python functions">list</code></div><div class="line number5 index4 alt2"><code class="python plain">va_start(argList, pszFormat);</code></div><div class="line number6 index5 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">定义字符串缓冲区</code></div><div class="line number7 index6 alt2"><code class="python plain">char szBufFormat[</code><code class="python value">0x1000</code><code class="python plain">];</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">定义调试前缀</code></div><div class="line number10 index9 alt1"><code class="python plain">char szBufFormat_Game[</code><code class="python value">0x1008</code><code class="python plain">] </code><code class="python keyword">=</code> <code class="python string">"Game:"</code><code class="python plain">;</code></div></div></td></tr></tbody></table></li>
</ul>
</li>
</ul>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">获取参数 va_arg(</code><code class="python functions">list</code><code class="python plain">, paramType)</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">*</code><code class="python functions">int</code> <code class="python plain">i </code><code class="python keyword">=</code> <code class="python plain">va_arg(argList, </code><code class="python functions">int</code><code class="python plain">);</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python functions">int</code> <code class="python plain">j </code><code class="python keyword">=</code> <code class="python plain">va_arg(argList, </code><code class="python functions">int</code><code class="python plain">);</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">char</code><code class="python keyword">*</code> <code class="python plain">szK </code><code class="python keyword">=</code> <code class="python plain">va_arg(argList, char</code><code class="python keyword">*</code><code class="python plain">);</code><code class="python keyword">*</code><code class="python keyword">/</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">vsprintf_s(szBufFormat, pszFormat, argList);</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">strcat_s(szBufFormat_Game, szBufFormat);</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">OutputDebugStringA(szBufFormat_Game);</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">清除</code><code class="python functions">list</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">va_end(argList);</code></div><div class="line number14 index13 alt1"><code class="python comments">#endif</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="python plain">}</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">定义临界区;</code></div><div class="line number19 index18 alt2"><code class="python plain">CRITICAL_SECTION lpCriticalSection;</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="python plain">DWORD g_ndGameData[</code><code class="python value">10</code><code class="python plain">] </code><code class="python keyword">=</code> <code class="python plain">{ </code><code class="python value">111</code><code class="python plain">, </code><code class="python value">222</code><code class="python plain">, </code><code class="python value">333</code><code class="python plain">, </code><code class="python value">444</code><code class="python plain">, </code><code class="python value">555</code><code class="python plain">, </code><code class="python value">666</code><code class="python plain">, </code><code class="python value">777</code><code class="python plain">, </code><code class="python value">888</code><code class="python plain">, </code><code class="python value">999</code><code class="python plain">, </code><code class="python value">000</code> <code class="python plain">};</code></div><div class="line number22 index21 alt1"><code class="python plain">DWORD</code><code class="python keyword">*</code> <code class="python plain">g_pndGameData[</code><code class="python value">10</code><code class="python plain">];</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="python plain">void UseGoods(char</code><code class="python keyword">*</code> <code class="python plain">szGoodsName) {</code></div><div class="line number25 index24 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">进入临界区</code></div><div class="line number26 index25 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">EnterCriticalSection(&amp;lpCriticalSection);</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">(</code><code class="python functions">int</code> <code class="python plain">i </code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">; i &lt; </code><code class="python value">10</code><code class="python plain">; i</code><code class="python keyword">+</code><code class="python keyword">+</code><code class="python plain">) {</code></div><div class="line number29 index28 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">DbgPrintMine(</code><code class="python string">"%s, %d\r\n"</code><code class="python plain">, szGoodsName, </code><code class="python keyword">*</code><code class="python plain">g_pndGameData[i]);</code></div><div class="line number30 index29 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">Sleep(</code><code class="python value">1</code> <code class="python keyword">*</code> <code class="python value">100</code><code class="python plain">);</code></div><div class="line number31 index30 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number32 index31 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">离开临界区</code></div><div class="line number33 index32 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">LeaveCriticalSection(&amp;lpCriticalSection);</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code><code class="python plain">;</code></div><div class="line number36 index35 alt1"><code class="python plain">}</code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1"><code class="python plain">DWORD WINAPI GameMainThreadProc(LPVOID lpData) {</code></div><div class="line number39 index38 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python plain">(TRUE) {</code></div><div class="line number40 index39 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">进入临界区</code></div><div class="line number41 index40 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">EnterCriticalSection(&amp;lpCriticalSection);</code></div><div class="line number42 index41 alt1">&nbsp;</div><div class="line number43 index42 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">初始化内存</code></div><div class="line number44 index43 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">memset(g_pndGameData, NULL, sizeof(g_pndGameData));</code></div><div class="line number45 index44 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">for</code> <code class="python plain">(</code><code class="python functions">int</code> <code class="python plain">i </code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">; i &lt; </code><code class="python value">10</code><code class="python plain">; i</code><code class="python keyword">+</code><code class="python keyword">+</code><code class="python plain">) {</code></div><div class="line number46 index45 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">g_pndGameData[i] </code><code class="python keyword">=</code> <code class="python plain">g_ndGameData </code><code class="python keyword">+</code> <code class="python plain">i; </code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">&amp;g_ndGameData[i]</code></div><div class="line number47 index46 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">Sleep(</code><code class="python value">1000</code><code class="python plain">);</code></div><div class="line number48 index47 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number49 index48 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">离开临界区</code></div><div class="line number50 index49 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">LeaveCriticalSection(&amp;lpCriticalSection);</code></div><div class="line number51 index50 alt2">&nbsp;</div><div class="line number52 index51 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">腾出有点时间片给外挂线程使用</code></div><div class="line number53 index52 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">Sleep(</code><code class="python value">1</code> <code class="python keyword">*</code> <code class="python value">1000</code><code class="python plain">);</code></div><div class="line number54 index53 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">物品使用的CALL</code></div><div class="line number55 index54 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">UseGoods(</code><code class="python string">"游戏主线程"</code><code class="python plain">);</code></div><div class="line number56 index55 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number57 index56 alt2"><code class="python plain">}</code></div><div class="line number58 index57 alt1">&nbsp;</div><div class="line number59 index58 alt2"><code class="python plain">DWORD WINAPI GameMyThreadProc(LPVOID lpData) {</code></div><div class="line number60 index59 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">while</code> <code class="python plain">(TRUE) {</code></div><div class="line number61 index60 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">初始化内存</code></div><div class="line number62 index61 alt1">&nbsp;</div><div class="line number63 index62 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">UseGoods(</code><code class="python string">"外挂线程:222"</code><code class="python plain">);</code></div><div class="line number64 index63 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">Sleep(</code><code class="python value">1</code> <code class="python keyword">*</code> <code class="python value">1000</code><code class="python plain">);</code></div><div class="line number65 index64 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number66 index65 alt1"><code class="python plain">}</code></div><div class="line number67 index66 alt2">&nbsp;</div><div class="line number68 index67 alt1"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">游戏主线程</code></div><div class="line number69 index68 alt2"><code class="python plain">void CDataExceptionTestDlg::OnBnClickedButton1()</code></div><div class="line number70 index69 alt1"><code class="python plain">{</code></div><div class="line number71 index70 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">TODO: 在此添加控件通知处理程序代码</code></div><div class="line number72 index71 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">CreateThread(NULL, NULL, GameMainThreadProc, NULL, </code><code class="python value">0</code><code class="python plain">, NULL);</code></div><div class="line number73 index72 alt2"><code class="python plain">}</code></div><div class="line number74 index73 alt1">&nbsp;</div><div class="line number75 index74 alt2"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">外挂线程</code></div><div class="line number76 index75 alt1"><code class="python plain">void CDataExceptionTestDlg::OnBnClickedButton2()</code></div><div class="line number77 index76 alt2"><code class="python plain">{</code></div><div class="line number78 index77 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">TODO: 在此添加控件通知处理程序代码</code></div><div class="line number79 index78 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">CreateThread(NULL, NULL, GameMyThreadProc, NULL, </code><code class="python value">0</code><code class="python plain">, NULL);</code></div><div class="line number80 index79 alt1"><code class="python plain">}</code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1">&nbsp;</div><div class="line number83 index82 alt2"><code class="python plain">void CDataExceptionTestDlg::OnBnClickedOk()</code></div><div class="line number84 index83 alt1"><code class="python plain">{</code></div><div class="line number85 index84 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">TODO: 在此添加控件通知处理程序代码</code></div><div class="line number86 index85 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">CDialogEx::OnOK();</code></div><div class="line number87 index86 alt2"><code class="python plain">}</code></div><div class="line number88 index87 alt1">&nbsp;</div><div class="line number89 index88 alt2">&nbsp;</div><div class="line number90 index89 alt1"><code class="python plain">void CDataExceptionTestDlg::OnBnClickedButton3()</code></div><div class="line number91 index90 alt2"><code class="python plain">{</code></div><div class="line number92 index91 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">TODO: 在此添加控件通知处理程序代码</code></div><div class="line number93 index92 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">初始化临界区</code></div><div class="line number94 index93 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">InitializeCriticalSection(&amp;lpCriticalSection);</code></div><div class="line number95 index94 alt2"><code class="python plain">}</code></div><div class="line number96 index95 alt1">&nbsp;</div><div class="line number97 index96 alt2"><code class="python plain">```</code></div></div></td></tr></tbody></table><h2><a name="将代码注入游戏的主线程" class="anchor" href="#将代码注入游戏的主线程"><span class="header-link"></span></a>将代码注入游戏的主线程</h2><ul>
<li><p>关键词</p>
<pre class="">SetWindowsHooksExa UnhookWindowsHookEx CWPSTRUCT
</pre>
</li>
</ul>
<h3><a name="定义方法" class="anchor" href="#定义方法"><span class="header-link"></span></a>定义方法</h3><pre class="">#pragma once

// HookGameMainThread.h
#define MSG_USEGOODSFORNAME 1 //使用物品的消息种类

// 挂载主线程
DWORD HookMainThread();

// 卸载主线程
DWORD UnHookMainThread();

DWORD msgUseGoodsForName(char* szpName);
</pre>
<h3><a name="实现方法" class="anchor" href="#实现方法"><span class="header-link"></span></a>实现方法</h3><pre class="">// HookGameMainThread.cpp
#include "StructGame.h"
#include "HookGameMainThread.h"

HHOOK g_hhkGame;
const DWORD MyMsgCode = RegisterWindowMessageA("MyMsgCode");
// 回调函数
LRESULT CALLBACK GameWndProc(
    int nCode,
    WPARAM wParam,
    LPARAM lParam
) {
    CWPSTRUCT* lpArg = (CWPSTRUCT*)lParam;
    if (nCode == HC_ACTION) {
        if (lpArg-&gt;hwnd == GetGameWndHandle() &amp;&amp; lpArg-&gt;message == MyMsgCode) {
            DbgPrintMine((char*)("消息传到    %s\r\n"), lpArg-&gt;lParam);
            switch (lpArg-&gt;wParam)
            {
            case MSG_USEGOODSFORNAME: {
                TGOODSLIST_PROPERTY goods;
                TGOODSLIST_PROPERTY* g = goods.getData();
                if (g-&gt;UseGoodsForName((char*)lpArg-&gt;lParam)) {
                    DbgPrintMine((char*)("使用 %s 成功"), lpArg-&gt;lParam);
                }
            }; break;
            default:
                break;
            }
            return 1;
        }
    }
    return CallNextHookEx(g_hhkGame, nCode, wParam, lParam);
}
DWORD HookMainThread() {

    HWND hGame = GetGameWndHandle();
    DWORD ndThreadId = GetWindowThreadProcessId(hGame, NULL);
    if (ndThreadId != 0) {
        // 安装钩子
        g_hhkGame = SetWindowsHookEx(WH_CALLWNDPROC, GameWndProc, NULL, ndThreadId);
    }
    return 1;
}


DWORD UnHookMainThread() {
    UnhookWindowsHookEx(g_hhkGame);
    return 1;
}

DWORD msgUseGoodsForName(char* szpName) {
    // 传递消息(句柄、自定义的注册消息、自定义消息类别、消息内容（字符串）)
    SendMessageA(GetGameWndHandle(), MyMsgCode, MSG_USEGOODSFORNAME, (LPARAM)szpName);
    return 1;
}
</pre>
<h3><a name="调用方法" class="anchor" href="#调用方法"><span class="header-link"></span></a>调用方法</h3><pre class="">// 连接主线程
void CMainDialogWnd::OnBnClickedButton2()
{
    // TODO: 在此添加控件通知处理程序代码
    HookMainThread();
}


void CMainDialogWnd::OnBnClickedButton3()
{
    // TODO: 在此添加控件通知处理程序代码
    UnHookMainThread();
}


void CMainDialogWnd::OnBnClickedButton4()
{
    // TODO: 在此添加控件通知处理程序代码
    msgUseGoodsForName("金创药(小)");
}
</pre>
<h3><a name="文件结构" class="anchor" href="#文件结构"><span class="header-link"></span></a>文件结构</h3><p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_FS652FZQR2ZZAUY.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
<h3><a name="运行效果" class="anchor" href="#运行效果"><span class="header-link"></span></a>运行效果</h3><p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_4MZ7WEM8CRQN2MX.jpg" style="max-width: 100%; cursor: pointer;" alt="" class="div_message_boxShadow"></p>
<h2><a name="分析怪物列表" class="anchor" href="#分析怪物列表"><span class="header-link"></span></a>分析怪物列表</h2><ul>
<li><p>分析思路：从怪物明显的属性入手：名字、<strong>血量</strong>等</p>
<p>1*4+427EBA0 //怪物列表基址（1-5）</p>
<p>+8 种类/2E:怪物</p>
<p>+354 显示血条</p>
<p>+C 怪物选中参数</p>
<p>+5f4 怪物血量</p>
<p>+5f8 怪物等级</p>
<p>+360 怪物名字</p>
<p>+1060 怪物位置X</p>
<p>+1068 怪物位置Y</p>
<p>+3C0 怪物生命状态 0活/1死</p>
<p>[0427EBA0] //角色对象指针</p>
<p>+8 //角色分类31人物/2E</p>
<p>+18 //角色名字</p>
</li>
</ul>
<h2><a name="封装怪物对象属性" class="anchor" href="#封装怪物对象属性"><span class="header-link"></span></a>封装怪物对象属性</h2><ul>
<li><p>定义基址</p>
<pre class="">// 怪物列表基址
#define BaseMonseterList 0x427EBA4
</pre>
</li>
<li><p>定义结构</p>
<pre class="">// 怪物结构
typedef struct TMonseterObj {
    //+5f4 怪物血量
    DWORD ndHp;
    //+ 5f8 怪物等级
    DWORD ndLevel;
    //+ 360 怪物名字
    char* szMName;
    //+ 1060 怪物位置X
    float flX;
    //+ 1068 怪物位置Y
    float flY;
    //+ 3C0 怪物生命状态 0活 / 1死
    BOOL IsDead;
}_TMonseterObj;

// 怪物列表
#define MONSETERNUM 20
typedef struct TMonseterList {

    _TMonseterObj tMonList[MONSETERNUM];

    // 初始化
    TMonseterList* getData();

    // 打印信息
    BOOL dbgPrintMsg();
}_TMonseterList;
</pre>
</li>
<li><p>实现结构方法</p>
<pre class="">TMonseterList* TMonseterList::getData()
{
    DWORD ndObj = NULL;
    //memset(this, 0, sizeof(TMonseterList));
    try
    {
        for (int i = 0; i &lt; MONSETERNUM; i++) {
            ndObj = *(DWORD*)(BaseMonseterList + 4 * i);
            if (ndObj == 0) {
                this-&gt;tMonList[i].ndLevel = 0;
                continue;
            }
            // 怪物名字
            this-&gt;tMonList[i].szMName = (char*)(ndObj + 0x360);
            // 怪物血量
            this-&gt;tMonList[i].ndHp = *(DWORD*)(ndObj + 0x5f4);
            // 怪物等级
            this-&gt;tMonList[i].ndLevel = *(DWORD*)(ndObj + 0x5f8);
            // 怪物位置X
            this-&gt;tMonList[i].flX = *(float*)(ndObj + 0x1060);
            // 怪物位置Y
            this-&gt;tMonList[i].flY = *(float*)(ndObj + 0x1068);
            // 怪物生命状态
            this-&gt;tMonList[i].IsDead = *(BOOL*)(ndObj + 0x3c0);
        }
    }
    catch (...)
    {
        // 处理所有的异常
        DbgPrintMine((char*)"读取怪物数据异常");
    }
    return this;
}

BOOL TMonseterList::dbgPrintMsg() {
    for (int i = 0; i &lt; MONSETERNUM; i++) {
        if (tMonList[i].ndLevel == 0) {
            continue;
        }
        DbgPrintMine((char*)("%s,等级：%d级；血量：%d；当前位置X:%f Y:%f；生命状态：%d"),
            tMonList[i].szMName,
            tMonList[i].ndLevel,
            tMonList[i].ndHp,
            tMonList[i].flX,
            tMonList[i].flY,
            tMonList[i].IsDead);
    }
    return TRUE;
}
</pre>
</li>
<li><p>在HOOK 内定义测试方法</p>
<pre class="">#define MSG_TEST 2 // 测试使用消息

// 测试怪物
DWORD msgTest(LPVOID lpData);
</pre>
</li>
<li><p>实现</p>
<p>```c++<br>// HookGameMainThread.cpp<br>#include "StructGame.h"<br>#include "HookGameMainThread.h"</p>
<p>HHOOK g_hhkGame;<br>const DWORD MyMsgCode = RegisterWindowMessageA("MyMsgCode");<br>// 回调函数<br>LRESULT CALLBACK GameWndProc(</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python functions">int</code> <code class="python plain">nCode,</code></div><div class="line number2 index1 alt1"><code class="python plain">WPARAM wParam,</code></div><div class="line number3 index2 alt2"><code class="python plain">LPARAM lParam</code></div></div></td></tr></tbody></table><p>) {</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">CWPSTRUCT</code><code class="python keyword">*</code> <code class="python plain">lpArg </code><code class="python keyword">=</code> <code class="python plain">(CWPSTRUCT</code><code class="python keyword">*</code><code class="python plain">)lParam;</code></div><div class="line number2 index1 alt1"><code class="python keyword">if</code> <code class="python plain">(nCode </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">HC_ACTION) {</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">(lpArg</code><code class="python keyword">-</code><code class="python plain">&gt;hwnd </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">GetGameWndHandle() &amp;&amp; lpArg</code><code class="python keyword">-</code><code class="python plain">&gt;message </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">MyMsgCode) {</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">DbgPrintMine((char</code><code class="python keyword">*</code><code class="python plain">)(</code><code class="python string">"消息传到&nbsp;&nbsp;&nbsp; %s\r\n"</code><code class="python plain">), lpArg</code><code class="python keyword">-</code><code class="python plain">&gt;lParam);</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">switch (lpArg</code><code class="python keyword">-</code><code class="python plain">&gt;wParam)</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">{</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">case MSG_USEGOODSFORNAME: {</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">TGOODSLIST_PROPERTY goods;</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">TGOODSLIST_PROPERTY</code><code class="python keyword">*</code> <code class="python plain">g </code><code class="python keyword">=</code> <code class="python plain">goods.getData();</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">(g</code><code class="python keyword">-</code><code class="python plain">&gt;UseGoodsForName((char</code><code class="python keyword">*</code><code class="python plain">)lpArg</code><code class="python keyword">-</code><code class="python plain">&gt;lParam)) {</code></div><div class="line number11 index10 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">DbgPrintMine((char</code><code class="python keyword">*</code><code class="python plain">)(</code><code class="python string">"使用 %s 成功"</code><code class="python plain">), lpArg</code><code class="python keyword">-</code><code class="python plain">&gt;lParam);</code></div><div class="line number12 index11 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number13 index12 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}; </code><code class="python keyword">break</code><code class="python plain">;</code></div></div></td></tr></tbody></table><p>////////////////////////////////////////////////////////////////////////</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">case MSG_TEST: {</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">TMonseterList tMonList;</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">TMonseterList</code><code class="python keyword">*</code> <code class="python plain">ptMonList </code><code class="python keyword">=</code> <code class="python plain">tMonList.getData();</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ptMonList</code><code class="python keyword">-</code><code class="python plain">&gt;dbgPrintMsg();</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}; </code><code class="python keyword">break</code><code class="python plain">;</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">default:</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">break</code><code class="python plain">;</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">return</code> <code class="python value">1</code><code class="python plain">;</code></div><div class="line number10 index9 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number11 index10 alt2"><code class="python plain">}</code></div><div class="line number12 index11 alt1"><code class="python keyword">return</code> <code class="python plain">CallNextHookEx(g_hhkGame, nCode, wParam, lParam);</code></div></div></td></tr></tbody></table><p>}<br>DWORD HookMainThread() {</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">HWND hGame </code><code class="python keyword">=</code> <code class="python plain">GetGameWndHandle();</code></div><div class="line number2 index1 alt1"><code class="python plain">DWORD ndThreadId </code><code class="python keyword">=</code> <code class="python plain">GetWindowThreadProcessId(hGame, NULL);</code></div><div class="line number3 index2 alt2"><code class="python keyword">if</code> <code class="python plain">(ndThreadId !</code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">) {</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">安装钩子</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">g_hhkGame </code><code class="python keyword">=</code> <code class="python plain">SetWindowsHookEx(WH_CALLWNDPROC, GameWndProc, NULL, ndThreadId);</code></div><div class="line number6 index5 alt1"><code class="python plain">}</code></div><div class="line number7 index6 alt2"><code class="python keyword">return</code> <code class="python value">1</code><code class="python plain">;</code></div></div></td></tr></tbody></table><p>}</p>
</li>
</ul>
<p>  DWORD UnHookMainThread() {<br>      UnhookWindowsHookEx(g_hhkGame);<br>      return 1;<br>  }</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;">&nbsp;</div><p>  DWORD msgUseGoodsForName(char* szpName) {<br>      // 传递消息(句柄、自定义的注册消息、自定义消息类别、消息内容（字符串）)<br>      SendMessageA(GetGameWndHandle(), MyMsgCode, MSG_USEGOODSFORNAME, (LPARAM)szpName);<br>      return 1;<br>  }</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;">&nbsp;</div><p>  ////////////////////////////////////////////////////////////////////////<br>  DWORD msgTest(LPVOID lpData)<br>  {<br>      SendMessageA(GetGameWndHandle(), MyMsgCode, MSG_TEST, (LPARAM)lpData);<br>      return 0;<br>  }</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">*</code> <code class="python plain">控件调用</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;</code><code class="python plain">```c</code><code class="python keyword">+</code><code class="python keyword">+</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;</code><code class="python plain">void CMainDialogWnd::OnBnClickedButton5()</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;</code><code class="python plain">{</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">TODO: 在此添加控件通知处理程序代码</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">msgTest(NULL);</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;</code><code class="python plain">}</code></div></div></td></tr></tbody></table><ul>
<li><p>目录结构</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_TEAJD6PJJ67A6DN.jpg" style="max-width: 100%; cursor: pointer;" alt="img" class="div_message_boxShadow"></p>
</li>
</ul>
<h2><a name="分析动作数组（攻击和打坐）" class="anchor" href="#分析动作数组（攻击和打坐）"><span class="header-link"></span></a>分析动作数组（攻击和打坐）</h2><ul>
<li>思路：<ul>
<li>通过选中的对象逆向回溯出动作的数组</li>
<li>通过动作对象访问逆向回溯到攻击CALL 附近</li>
<li>封包断点bp WSASend</li>
</ul>
</li>
</ul>
<ol>
<li><p>通过选中动作，利用CE 查找基址</p>
</li>
<li><p>使用OD 分析访问内存信息，得到基址</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python value">0082D8F2</code>&nbsp;&nbsp;&nbsp; <code class="python value">8D8CB7</code> <code class="python value">3C040000</code> <code class="python plain">LEA ECX,DWORD PTR DS:[EDI</code><code class="python keyword">+</code><code class="python plain">ESI</code><code class="python keyword">*</code><code class="python value">4</code><code class="python keyword">+</code><code class="python value">43C</code><code class="python plain">]</code></div></div></td></tr></tbody></table>
<p>动作公式：[02e3bd58]+43c+4*0</p>
</li>
<li><p><strong>找动作的CALL</strong></p>
<ul>
<li><p>使用CE 分析动作对象的调用访问</p>
</li>
<li><p>得到一下信息</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">/</code><code class="python keyword">/</code> <code class="python plain">攻击</code></div><div class="line number2 index1 alt1"><code class="python value">008530CE</code> <code class="python keyword">-</code> <code class="python value">6A</code> <code class="python value">01</code> <code class="python keyword">-</code> <code class="python plain">push </code><code class="python value">01</code></div><div class="line number3 index2 alt2"><code class="python value">008530D0</code> <code class="python keyword">-</code> <code class="python plain">E8 </code><code class="python value">0B4AFBFF</code> <code class="python keyword">-</code> <code class="python plain">call Client.exe</code><code class="python keyword">+</code><code class="python value">407AE0</code></div><div class="line number4 index3 alt1"><code class="python value">008530D5</code> <code class="python keyword">-</code> <code class="python value">8B</code> <code class="python value">8C</code> <code class="python plain">B7 </code><code class="python value">3C040000</code>&nbsp; <code class="python keyword">-</code> <code class="python plain">mov ecx,[edi</code><code class="python keyword">+</code><code class="python plain">esi</code><code class="python keyword">*</code><code class="python value">4</code><code class="python keyword">+</code><code class="python value">0000043C</code><code class="python plain">] &lt;&lt;</code></div><div class="line number5 index4 alt2"><code class="python value">008530DC</code> <code class="python keyword">-</code> <code class="python value">85</code> <code class="python plain">C9&nbsp; </code><code class="python keyword">-</code> <code class="python plain">test ecx,ecx</code></div><div class="line number6 index5 alt1"><code class="python value">008530DE</code> <code class="python keyword">-</code> <code class="python value">74</code> <code class="python value">62</code> <code class="python keyword">-</code> <code class="python plain">je Client.exe</code><code class="python keyword">+</code><code class="python value">453142</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="python value">008544B9</code> <code class="python keyword">-</code> <code class="python value">83</code> <code class="python plain">BF </code><code class="python value">34160000</code> <code class="python value">35</code> <code class="python keyword">-</code> <code class="python functions">cmp</code> <code class="python plain">dword ptr [edi</code><code class="python keyword">+</code><code class="python value">00001634</code><code class="python plain">],</code><code class="python value">35</code></div><div class="line number9 index8 alt2"><code class="python value">008544C0</code> <code class="python keyword">-</code> <code class="python value">75</code> <code class="python value">20</code> <code class="python keyword">-</code> <code class="python plain">jne Client.exe</code><code class="python keyword">+</code><code class="python value">4544E2</code></div><div class="line number10 index9 alt1"><code class="python value">008544C2</code> <code class="python keyword">-</code> <code class="python value">8B</code> <code class="python value">84</code> <code class="python plain">B7 </code><code class="python value">3C040000</code>&nbsp; <code class="python keyword">-</code> <code class="python plain">mov eax,[edi</code><code class="python keyword">+</code><code class="python plain">esi</code><code class="python keyword">*</code><code class="python value">4</code><code class="python keyword">+</code><code class="python value">0000043C</code><code class="python plain">] &lt;&lt;</code></div><div class="line number11 index10 alt2"><code class="python value">008544C9</code> <code class="python keyword">-</code> <code class="python value">85</code> <code class="python plain">C0&nbsp; </code><code class="python keyword">-</code> <code class="python plain">test eax,eax</code></div><div class="line number12 index11 alt1"><code class="python value">008544CB</code> <code class="python keyword">-</code> <code class="python value">74</code> <code class="python value">15</code> <code class="python keyword">-</code> <code class="python plain">je Client.exe</code><code class="python keyword">+</code><code class="python value">4544E2</code></div></div></td></tr></tbody></table>
</li>
<li><p>使用OD分析得动作CALL为</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">mov edi, [</code><code class="python value">02E3CD58</code><code class="python plain">]</code></div><div class="line number2 index1 alt1"><code class="python plain">mov esi, 下标</code></div><div class="line number3 index2 alt2"><code class="python plain">MOV EAX,DWORD PTR DS:[EDI</code><code class="python keyword">+</code><code class="python plain">ESI</code><code class="python keyword">*</code><code class="python value">4</code><code class="python keyword">+</code><code class="python value">43C</code><code class="python plain">]</code></div><div class="line number4 index3 alt1"><code class="python plain">mov ecx, [eax</code><code class="python keyword">+</code><code class="python value">0x54</code><code class="python plain">]</code></div><div class="line number5 index4 alt2"><code class="python plain">push ecx</code></div><div class="line number6 index5 alt1"><code class="python plain">CALL </code><code class="python value">007139E0</code></div></div></td></tr></tbody></table>
</li>
</ul>
</li>
</ol>
<h2><a name="封装动作数组功能" class="anchor" href="#封装动作数组功能"><span class="header-link"></span></a>封装动作数组功能</h2><ul>
<li>封装动作对象</li>
<li>封装动作对象列表</li>
<li>封装使用对象功能函数</li>
</ul>
<h4><a name="封装" class="anchor" href="#封装"><span class="header-link"></span></a>封装</h4><ol>
<li><p>封装基址</p>
<pre class="">// 人物动作使用的CALL 的基址
#define BaseActionCall 0x00713970
</pre>
</li>
<li><p>封装结构</p>
<pre class="">// 动作对象的结构
typedef struct TActionObj {

    // 对象名字
    char* szpName;
    // 调用CALL 的参数
    DWORD ndActionID;

}_TActionObj;

// 动作对象数组
#define ActionNum 18
typedef struct TCActionList {

    // 定义动作数组
    _TActionObj tList[ActionNum];

    // 初始化
    TCActionList* getData();

    // 打印信息
    BOOL TestActionMsg();

    // 使用动作通过下标
    BOOL UseActionByIndex(DWORD ndIndex);

    // 使用动作通过名字
    BOOL UseActionByName(char* szpName);

}_TCActionList;
</pre>
</li>
<li><p>实现结构方法</p>
<p>```c++<br>TCActionList<em> TCActionList::getData()<br>{<br>   //dc [[02e3bd58]+ 43c + 4 </em> 0] + 64<br>   //+ 64 动作名字</p>
<p>   //[[02e3bd58]+ 43c + 4 * 0] + 54<br>   //+ 54 调用CALL参数</p>
<p>   DWORD ndFirstObj = 0;<br>   DWORD ndObj;<br>   try {</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">ndFirstObj </code><code class="python keyword">=</code> <code class="python plain">(</code><code class="python keyword">*</code><code class="python plain">(DWORD</code><code class="python keyword">*</code><code class="python plain">)(BaseActionList))</code><code class="python keyword">+</code><code class="python value">0x43C</code><code class="python plain">;</code></div><div class="line number2 index1 alt1"><code class="python keyword">for</code> <code class="python plain">(</code><code class="python functions">int</code> <code class="python plain">i </code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">; i &lt; ActionNum; i</code><code class="python keyword">+</code><code class="python keyword">+</code><code class="python plain">) {</code></div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">ndObj </code><code class="python keyword">=</code> <code class="python keyword">*</code><code class="python plain">(DWORD</code><code class="python keyword">*</code><code class="python plain">)(ndFirstObj </code><code class="python keyword">+</code> <code class="python value">4</code> <code class="python keyword">*</code> <code class="python plain">i);</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">if</code> <code class="python plain">(ndObj </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python plain">NULL) {</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tList[i].ndActionID </code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">;</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">continue</code><code class="python plain">;</code></div><div class="line number7 index6 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">}</code></div><div class="line number8 index7 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tList[i].szpName </code><code class="python keyword">=</code> <code class="python plain">(char</code><code class="python keyword">*</code><code class="python plain">)(ndObj </code><code class="python keyword">+</code> <code class="python value">0x64</code><code class="python plain">);</code></div><div class="line number9 index8 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tList[i].ndActionID </code><code class="python keyword">=</code> <code class="python keyword">*</code><code class="python plain">(DWORD</code><code class="python keyword">*</code><code class="python plain">)(ndObj </code><code class="python keyword">+</code> <code class="python value">0x54</code><code class="python plain">);</code></div><div class="line number10 index9 alt1"><code class="python plain">}</code></div></div></td></tr></tbody></table><p>   }<br>   catch (...) {</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python plain">DbgPrintMine((char</code><code class="python keyword">*</code><code class="python plain">)(</code><code class="python string">"内存读取异常"</code><code class="python plain">));</code></div></div></td></tr></tbody></table><p>   }</p>
<p>   return this;<br>}</p>
<p>BOOL TCActionList::TestActionMsg()<br>{<br>   for (int i = 0; i &lt; ActionNum; i++) {</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python keyword">if</code> <code class="python plain">(tList[i].ndActionID </code><code class="python keyword">=</code><code class="python keyword">=</code> <code class="python value">0</code><code class="python plain">) {</code></div><div class="line number2 index1 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python keyword">continue</code><code class="python plain">;</code></div><div class="line number3 index2 alt2"><code class="python plain">}</code></div><div class="line number4 index3 alt1"><code class="python plain">DbgPrintMine((char</code><code class="python keyword">*</code><code class="python plain">)(</code><code class="python string">"动作名：%s, 动作ID：%X"</code><code class="python plain">),</code></div><div class="line number5 index4 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tList[i].szpName,</code></div><div class="line number6 index5 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">tList[i].ndActionID);</code></div></div></td></tr></tbody></table><p>   }<br>   return TRUE;<br>}</p>
</li>
</ol>
<p>   DWORD getObjByIndex(char<em> szpName) {<br>       TCActionList tList;<br>       TCActionList</em> ptList = tList.getData();<br>       for(int i = 0; i &lt; ActionNum; i++) {<br>           if (strcmp(szpName, ptList-&gt;tList[i].szpName) == 0) {<br>               return i;<br>           }<br>       }<br>       return -1;<br>   }</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;">&nbsp;</div><p>   BOOL UseAction(DWORD ndIndex) {<br>       TCActionList tList;<br>       TCActionList<em> ptList = tList.getData();<br>       DWORD ndPrarm = ptList-&gt;tList[ndIndex].ndActionID;<br>       try {<br>           __asm {<br>               mov ecx, ndPrarm<br>               push ecx<br>               mov eax, BaseActionCall<br>               call eax<br>           }<br>       }<br>       catch (...) {<br>           DbgPrintMine((char</em>)("动作使用失败"));<br>           return FALSE;<br>       }<br>       return TRUE;<br>   }</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;">&nbsp;</div><p>   BOOL TCActionList::UseActionByIndex(DWORD ndIndex)<br>   {<br>       if (UseAction(ndIndex)) {<br>           MessageBeep(0);<br>           return TRUE;<br>       }<br>       return FALSE;<br>   }</p>
<div class="kx_md_br_div" style="margin:0; line-height:1;">&nbsp;</div><p>   BOOL TCActionList::UseActionByName(char* szpName)<br>   {<br>       DWORD ndIndex = getObjByIndex(szpName);<br>       if (ndIndex != -1) {<br>           if (UseAction(ndIndex)) {<br>               MessageBeep(0);<br>               return TRUE;<br>           }<br>       }<br>       return FALSE;<br>   }</p>
<table class="syntaxhighlighter  python" cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="python value">4.</code> <code class="python plain">添加消息类型</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;</code><code class="python plain">```c</code><code class="python keyword">+</code><code class="python keyword">+</code></div><div class="line number4 index3 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;</code><code class="python comments">#define MSG_ACTIONTEST 3 //测试动作</code></div></div></td></tr></tbody></table><ol>
<li><p>在主线程内调用结构体方法</p>
<pre class="">case MSG_ACTIONTEST: {
                TCActionList* ptLIst = tList.getData();
                ptLIst-&gt;TestActionMsg();
                //ptLIst-&gt;UseActionByIndex(1);
                ptLIst-&gt;UseActionByName((char*)("攻击"));
            }; break;
</pre>
</li>
<li><p>发送消息到主线程</p>
<pre class="">DWORD testActionMsg(LPVOID lpData) {
    SendMessageA(GetGameWndHandle(), MyMsgCode, MSG_ACTIONTEST, (LPARAM)lpData);
    return 0;
}
</pre>
</li>
</ol>
<ol>
<li><p>绑定控件，执行方法</p>
<pre class="">void CMainDialogWnd::OnBnClickedButton6()
{
    // TODO: 在此添加控件通知处理程序代码
    testActionMsg(NULL);
}
</pre>
</li>
</ol>
<ul>
<li><p>文件结构</p>
<p><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500_QJ8Q8TV3EQN8WQH.jpg" style="max-width: 100%; cursor: pointer;" alt="img" class="div_message_boxShadow"></p>
</li>
</ul>
<h2><a name="选怪功能实现" class="anchor" href="#选怪功能实现"><span class="header-link"></span></a>选怪功能实现</h2><ul>
<li>实现怪物选中</li>
<li>可能情况：<ul>
<li>选怪变量被赋值</li>
<li>怪物是否被选中的属性</li>
</ul>
</li>
</ul>
<h4><a name="选怪功能相关地址" class="anchor" href="#选怪功能相关地址"><span class="header-link"></span></a>选怪功能相关地址</h4><ul>
<li><p>玩家：</p>
<p>[2E63A24] //存放的玩家对象的地址</p>
<p>+3428 玩家是否被选中</p>
</li>
<li><p>怪物：</p>
<p>[2E63A24]+1A64</p>
<p>选中怪物时，传入怪物的选中ID</p>
<p>没选中怪物时，值为0xFFFF</p>
</li>
</ul>
<h2><a name="选怪功能的封装" class="anchor" href="#选怪功能的封装"><span class="header-link"></span></a>选怪功能的封装</h2><h2><a name="计算怪物与玩家的距离" class="anchor" href="#计算怪物与玩家的距离"><span class="header-link"></span></a>计算怪物与玩家的距离</h2><h2><a name="自动打怪函数封装" class="anchor" href="#自动打怪函数封装"><span class="header-link"></span></a>自动打怪函数封装</h2><p>需要特征码可联系</p>					
<br><br>
<p><a href="https://bbs.pediy.com/thread-51839.htm" target="_blank">[培训]科锐逆向工程师培训(6月24日远程教学开班, 第38期)！ </a></p>


										
										
					
								</div>
				
				<div>
								</div>
				
				<div class="" style="height: 33px; line-height: 33px; border-top: 1px solid #ddd;">
														</div>
			</div>
		</div>
		
		                
                
                <!--赞赏支持-->
                <div class="modal fade reward" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title" id="exampleModalLabel">赞赏</h4>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">×</span>
                                            </button>
                                        </div>
                                        <form action="" method="post" id="pay_kx" onsubmit="return topay()">
                                                <div class="modal-body text-center">
                                                        <div class="form-group">
                                                                <input name="ureward" type="hidden" value="889500">
                                                                <input type="hidden" name="reward_articleid" value="259746">
                                                                <div class="avatar-3 mb-3" style="width: 70px;height: 70px;display: inline-block;">
                                                                    <img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/dashang.png" alt="100">
                                                                </div>
                                                                
                                                                <div class="text-center mb-2">
                                                                    <div class="" data-toggle="buttons">
                                                                        <label class="btn btn-outline-danger active" style="width:120px">
                                                                            <input type="radio" class="d-none" value="1" name="reward_rmbs" id="option1" autocomplete="off" checked="checked">1 元
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="2" name="reward_rmbs" id="option2" autocomplete="off">2 元
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="5" name="reward_rmbs" id="option3" autocomplete="off">5 元
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="10" name="reward_rmbs" id="option4" autocomplete="off">10 元
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="20" name="reward_rmbs" id="option5" autocomplete="off">20 元
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="50" name="reward_rmbs" id="option6" autocomplete="off">50 元
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="100" name="reward_rmbs" id="option7" autocomplete="off">100 元
                                                                        </label>
                                                                        <label class="btn btn-outline-danger" style="width:120px">
                                                                            <input type="radio" class="d-none" value="200" name="reward_rmbs" id="option8" autocomplete="off">200 元
                                                                        </label>
                                                                    </div>
                                                                </div>

                                                                <div class="text-center">
                                                                    <label id="alipay_lab">
                                                                        <span>支付方式：</span>
                                                                        <input type="radio" value="1" checked="checked" name="reward_type" style="display:inline">
                                                                        <span class="alipay-bg"></span>
                                                                    </label>
                                                                    <label class="ml-3">
                                                                        <input type="radio" value="3" name="reward_type">
                                                                        <i class="icon icon-weixin" style="font-size:17px;color:#49BE38"></i> 微信支付
                                                                    </label>
                                                                        
                                                            </div>
                                                        </div>
                                                </div>
                                                <div class="px-3 mb-3">
                                                    <div class="mb-2">赞赏留言：</div>
                                                    <div class="my-2">
                                                        <select class="form-control form-control-sm reward_reason" style="max-width: 90px;">
                                                            <option value="0" selected="selected">快捷留言</option>
                                                            <option value="感谢分享～">感谢分享～</option>
                                                            <option value="精品文章～">精品文章～</option>
                                                            <option value="原创内容～">原创内容～</option>
                                                            <option value="精彩转帖～">精彩转帖～</option>
                                                            <option value="助人为乐～">助人为乐～</option>
                                                            
                                                        </select>
                                                    </div>
                                                    <textarea class="form-control reward_reason_textarea" name="brief" rows="1"></textarea>
                                                    
                                                </div>
                                                <div class="modal-footer">
                                                        <button id="pay_submit" type="submit" class="btn btn-primary btn-pay kx-pay" data-loading-text="正在提交...">立即支付</button>
                                                </div>
                                        </form>
                                </div>
                        </div>
                </div>
		<style>
			.card_collection { vertical-align: middle; display: inline-block; border: 1px solid #eee; background: #EEEEEE; padding: 0px 8px; border-radius: 5px; }
			.card_collection p { margin-bottom: 0px;font-size: 12px;}
			.card_collection p a { text-decoration: none; }
			.alipay-bg { width: 60px;height: 20px;display: inline-block;vertical-align: middle;background: url(view/img/reward_alipay.png) 0 0 no-repeat;}
			.color4A4A4A {
				color: #4A4A4A;
			}
		</style>
		<div class="card" style="background:#F9F9F9;text-align:center;padding:5px 0px;">
			<div style="width:auto;display:inline-block;">
				<div class="card_collection" style="width: 70px; height: 65px;line-height:30px">
					<p>						<span id="likes">14</span>
											</p>
					<p id="favorite">
						<a href="javascript:void(0)" class="color4A4A4A" title="点我收藏">
														<i class="icon-star-o color4A4A4A"></i>&nbsp;收藏
													</a>
					</p>
				</div>

				
				<div class="card_collection" style="width: 70px; height: 65px;line-height:30px">
					<p><span id="thread_thumb_num" class="color4A4A4A" style="font-size: 13px;">2</span></p>
					<p id="thumb">
						<a href="javascript:void(0)" class="color4A4A4A">
														<i class="icon-thumbs-o-up color4A4A4A"></i>&nbsp;赞
													</a>
					</p>
				</div>
				<div class="card_collection" style="width: 70px; height: 65px;line-height:30px">
					
						<p>
							<a href="javascript:void(0);" class="modal-title d-inline-block" id="exampleModalLabel" data-toggle="modal" data-target=".reward">
								<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/renminbi.png" style="" alt="">
							</a>
						</p>
						<p>
							<a href="javascript:void(0);" class="modal-title d-inline-block" id="exampleModalLabel" data-toggle="modal" data-target=".reward">
							<span class="color4A4A4A">打赏</span>
							</a>
						</p>
					
				</div>
				<div class="card_collection bbsshare_btn" style="width: 70px; height: 65px;line-height:30px">
					
						<p>
							<a href="javascript:void(0);" class="modal-title d-inline-block">
								<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bbsshare.png" style="" alt="">
							</a>
						</p>
						<p>
							<a href="javascript:void(0);" class="modal-title d-inline-block">
							<span class="color4A4A4A">分享</span>
							</a>
						</p>
					
				</div>
				<!-- <div class="card_collection" style="padding-top: 5px; padding-bottom: 5px;">
					<a href="javascript:void(0);" class="modal-title" id="exampleModalLabel" data-toggle="modal" data-target=".reward">
						<img src="view/img/dashang.png" alt="赞赏" style="width:50px;vertical-align: middle;" title="现金赞赏支持">
					</a>
				</div> -->

				<!-- <div class="card_collection">
					<img src="bbs_qrcode-http_3A_2F_2Fbbs_2epediy_2ecom_2Fthread_2d259746_2ehtm.htm" alt="二维码" style="width:60px;height:60px;vertical-align: middle; ">
				</div> -->
				<!-- <div class="card_collection" style="padding-top: 5px; padding-bottom: 5px;">
					<img src="view/img/bbsshare.png" class="bbsshare_btn" style="width: 50px; cursor: pointer; vertical-align: middle;" title="">
				</div> -->

				<div class="bd-bbsshare-modal-sm" style="display: none;">
					<div>
						<div class="px-5 py-4">
							<div class="text-left">分享到：</div>
							<div class="pt-4">
							
								<div onclick="shareTo('qzone')" class="fl d-inline-block mr-3" style="cursor: pointer;">
									<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/qqzoneshare.png" width="32">
								</div>
								<div onclick="shareTo('qq')" class="fl d-inline-block mr-3" style="cursor: pointer;">
									<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/qqshare.png" width="32">
								</div>
								<div onclick="shareTo('sina')" class="fl d-inline-block mr-3" style="cursor: pointer;">
									<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/sinaweiboshare.png" width="32">
								</div>
								<div onclick="shareTo('wechat')" id="wxshare" class="fl d-inline-block" style="cursor:pointer;">
									<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/wechatshare.png" width="32">
								</div>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="card p-1">
			<div class="card-body">
				<table class="table postlist mb-0">
					<thead>
						<tr>
							<th colspan="2" class="pa-0  pb-1">
								<dl class="row">
									<dt>
										<b>最新回复</b> (<span class="posts">14</span>)
									</dt>
									<dd style="text-align: right;">
										
										
																				
									</dd>
								</dl>
							</th>
						</tr>
					</thead>
					<tbody>
					
														
				
																			
										
					
					
					<tr class="post" data-pid="1645685">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-780645.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/780645.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2018-1 <br>
								帖子：30 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-780645.htm">X-Blades</a>
									</span>
									
																		<span class="post_online_time" data-online_time="1804113" data-desc="在线时长: 501 小时 ( 13 级)&lt;br/&gt; 升级还需要 2 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-25 22:50</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645685" id="1645685" class="text-grey mr-3"><span class="floor">2</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="780645" name="praised_uid">
		<input type="hidden" value="1645685" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">1</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								看这写法&nbsp;有点像郁金香&nbsp;教的								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645691">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-862127.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/862127.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2019-7 <br>
								帖子：33 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-862127.htm">恺因</a>
									</span>
									
																		<span class="post_online_time" data-online_time="591159" data-desc="在线时长: 164 小时 ( 7 级)&lt;br/&gt; 升级还需要 27 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 00:04</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645691" id="1645691" class="text-grey mr-3"><span class="floor">3</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="862127" name="praised_uid">
		<input type="hidden" value="1645691" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								话说为什么游戏有这么多的基地址（全局变量），是因为这些数据使用频率高，定义成全局变量就不用传参了么？								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645695">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-536864.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/536864.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2012-7 <br>
								帖子：173 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-536864.htm">pushmop</a>
									</span>
									
																		<span class="post_online_time" data-online_time="3332408" data-desc="在线时长: 925 小时 ( 19 级)&lt;br/&gt; 升级还需要 34 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/sun.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 03:10</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645695" id="1645695" class="text-grey mr-3"><span class="floor">4</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="536864" name="praised_uid">
		<input type="hidden" value="1645695" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">1</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">
		<a href="https://bbs.pediy.com/user-780645.htm" class="text-small text-muted user">
			<img class="avatar-1" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/780645.png" style="cursor: pointer;">
			X-Blades
		</a>
		看这写法 有点像郁金香 教的
		</blockquote>老司机了								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645721">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-794237.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/794237.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2018-3 <br>
								帖子：167 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-794237.htm">ZwCopyAll</a>
									</span>
									
																		<span class="post_online_time" data-online_time="180712" data-desc="在线时长: 50 小时 ( 3 级)&lt;br/&gt; 升级还需要 13 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 09:29</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645721" id="1645721" class="text-grey mr-3"><span class="floor">5</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="794237" name="praised_uid">
		<input type="hidden" value="1645721" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								666								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645722">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-746527.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/746527.png">
							</a>
							<div class="mt-2">
								<span class="group group-103 mr-1" data-gid="103" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2017-3 <br>
								帖子：143 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars02.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-746527.htm">FANTASYING</a>
									</span>
									
																		<span class="post_online_time" data-online_time="5527826" data-desc="在线时长: 1535 小时 ( 25 级)&lt;br/&gt; 升级还需要 24 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/sun.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 09:29</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645722" id="1645722" class="text-grey mr-3"><span class="floor">6</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="746527" name="praised_uid">
		<input type="hidden" value="1645722" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								直接搬代码了								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645747">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-889500.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/889500.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2020-4 <br>
								帖子：5 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-889500.htm">tutuj</a>
									</span>
									
																		<span class="post_online_time" data-online_time="50120" data-desc="在线时长: 13 小时 ( 1 级)&lt;br/&gt; 升级还需要 10 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 11:21</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645747" id="1645747" class="text-grey mr-3"><span class="floor">7</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="889500" name="praised_uid">
		<input type="hidden" value="1645747" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								老郁金香了<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/78.gif" class="face" style="cursor: pointer;">’								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645756">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-62344.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/62344.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2006-11 <br>
								帖子：139 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-62344.htm">gamehack</a>
									</span>
									
																		<span class="post_online_time" data-online_time="798652" data-desc="在线时长: 221 小时 ( 8 级)&lt;br/&gt; 升级还需要 12 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 12:31</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645756" id="1645756" class="text-grey mr-3"><span class="floor">8</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="62344" name="praised_uid">
		<input type="hidden" value="1645756" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">1</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								写了这么多,辛苦了,支持一下!								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645767">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-394891.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/avatar.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2010-12 <br>
								帖子：76 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-394891.htm">天地豪迈</a>
									</span>
									
																		<span class="post_online_time" data-online_time="1158797" data-desc="在线时长: 321 小时 ( 10 级)&lt;br/&gt; 升级还需要 8 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 14:36</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645767" id="1645767" class="text-grey mr-3"><span class="floor">9</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="394891" name="praised_uid">
		<input type="hidden" value="1645767" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								写得&nbsp;很详细。&nbsp;支持一下。								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645773">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-780155.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/avatar.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2017-12 <br>
								帖子：34 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-780155.htm">hasking</a>
									</span>
									
																		<span class="post_online_time" data-online_time="1344204" data-desc="在线时长: 373 小时 ( 11 级)&lt;br/&gt; 升级还需要 10 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 15:09</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645773" id="1645773" class="text-grey mr-3"><span class="floor">10</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="780155" name="praised_uid">
		<input type="hidden" value="1645773" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								热血江湖&nbsp;升级&nbsp;真难升								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1645786">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-428523.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/avatar.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2011-5 <br>
								帖子：199 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-428523.htm">白玉箫</a>
									</span>
									
																		<span class="post_online_time" data-online_time="5569946" data-desc="在线时长: 1547 小时 ( 25 级)&lt;br/&gt; 升级还需要 12 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/sun.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2020-5-26 17:16</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1645786" id="1645786" class="text-grey mr-3"><span class="floor">11</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="428523" name="praised_uid">
		<input type="hidden" value="1645786" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								老司机&nbsp;有合成强化相关的嘛？								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1647507">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-348891.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/348891.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2010-6 <br>
								帖子：197 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-348891.htm">kongfubull</a>
									</span>
									
																		<span class="post_online_time" data-online_time="767395" data-desc="在线时长: 213 小时 ( 8 级)&lt;br/&gt; 升级还需要 20 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2天前</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1647507" id="1647507" class="text-grey mr-3"><span class="floor">12</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="348891" name="praised_uid">
		<input type="hidden" value="1647507" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								我想问下：<br>push&nbsp;xx<br>push&nbsp;xx<br>call&nbsp;YY<br>现在的程序，基本上每次启动的时候，模块基址都是不一样的，也就意味着YY这个值，可能发生变化，请问，在传入了参数之后，如何能保证正确的调用这个YY呢？								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1647573">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image0																
														" href="https://bbs.pediy.com/user-884740.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/avatar.png">
							</a>
							<div class="mt-2">
								<span class="group group-101 mr-1" data-gid="101" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2020-2 <br>
								帖子：2 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-884740.htm">mb_ruejewdo</a>
									</span>
									
																		<span class="post_online_time" data-online_time="175637" data-desc="在线时长: 48 小时 ( 3 级)&lt;br/&gt; 升级还需要 15 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/star.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2天前</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1647573" id="1647573" class="text-grey mr-3"><span class="floor">13</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="884740" name="praised_uid">
		<input type="hidden" value="1647573" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">
		<a href="https://bbs.pediy.com/user-348891.htm" class="text-small text-muted user">
			<img class="avatar-1" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/348891.png" style="cursor: pointer;">
			kongfubull
		</a>
		我想问下：
push xx
push xx
call YY
现在的程序，基本上每次启动的时候，模块基址都是不一样的，也就意味着YY这个值，可能发生变化，请问，在传入了参数之后，如何能保证正确的 ... 
		</blockquote>一般在一些简单的游戏里，YY是不会改变的，它这里面的地址就是游戏程序的本身，在热血江湖我之前做过，是以游戏程序本身
为基准的地址，YY是不会变的，这涉及到一些虚拟地址的概念。要是复杂点的游戏会是模块+偏移的方式出现，这时需要拍摄系统快照获取游戏模块的地址，然后
加上你找到的偏移，就能正确得出YY，当然偏移是不会改变的。								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1647620">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-348891.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/348891.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2010-6 <br>
								帖子：197 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-348891.htm">kongfubull</a>
									</span>
									
																		<span class="post_online_time" data-online_time="767395" data-desc="在线时长: 213 小时 ( 8 级)&lt;br/&gt; 升级还需要 20 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">2天前</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1647620" id="1647620" class="text-grey mr-3"><span class="floor">14</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="348891" name="praised_uid">
		<input type="hidden" value="1647620" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">
		<a href="https://bbs.pediy.com/user-884740.htm" class="text-small text-muted user">
			<img class="avatar-1" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/avatar.png" style="cursor: pointer;">
			mb_ruejewdo
		</a>
		一般在一些简单的游戏里，YY是不会改变的，它这里面的地址就是游戏程序的本身，在热血江湖我之前做过，是以游戏程序本身为基准的地址，YY是不会变的，这涉及到一些虚拟地址的概念。要是复杂点的游戏会是模块+偏 ... 
		</blockquote>多谢回复指点，后来我想明白了，我以为是call&nbsp;YY这条指令的地址。								
																																
								
							</div>
						</td>
					</tr>
																			
										
					
					
					<tr class="post" data-pid="1647743">
						<td class="vtop td-avatar text-center" style="width: 46px;">
							<a class="d-inline-block position-relative photo_frame
																							photo_frame_image1																
														" href="https://bbs.pediy.com/user-845471.htm" tabindex="-1">
								<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/845471.png">
							</a>
							<div class="mt-2">
								<span class="group group-102 mr-1" data-gid="102" onmouseenter="show_level(event)"></span>
							</div>
							<div class="text-grey text-tiny" style="height: 20px; text-align: center; margin-top: -9px; ">
								
								<!--注册：2019-2 <br>
								帖子：27 <br>-->
<!-- 
								 -->
								<div class="mb-3" style="position: relative;"><img style="position:absolute;left: -3px;" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/stars01.gif" alt=""> </div>
								<!--<span class="hidden-sm hidden-md" title=""></span>
								-->

							</div>
							
							
						</td>
						<td class="px-0">
							<dl class="row small">
								<dt>
									
									
									<div>
									<span class="username font-weight-bold">
										<a href="https://bbs.pediy.com/user-845471.htm">明天去要饭</a>
									</span>
									
																		<span class="post_online_time" data-online_time="290123" data-desc="在线时长: 80 小时 ( 4 级)&lt;br/&gt; 升级还需要 9 小时" onmouseenter="show_online_level(event)"><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/moon.gif" style="opacity: 0.65; margin-right: 2px;" width="13" height="13"></span>
									<span class="date text-grey small ml-1">1天前</span>
									</div>
									
								</dt>
								<dd class="text-right text-grey py-1">
									<div class="check_input_box d-inline-block"></div>
									<div class=" d-none d-lg-inline-block">
																													
																				
										

																			
										

	

																				
																			</div>
																		<a href="https://bbs.pediy.com/thread-259746-1.htm#1647743" id="1647743" class="text-grey mr-3"><span class="floor">15</span> 楼</a>
																			<div class="reply_thumb" style="display: inline-block;">
		<input type="hidden" value="259746" name="threadid">
		<input type="hidden" value="845471" name="praised_uid">
		<input type="hidden" value="1647743" name="pid">
		<a href="javascript:void(0)" class="text-grey">
						<i class="icon-thumbs-o-up"></i>
					</a>
		<span class="thumb_num" style="margin-left:5px">0</span>
	</div>
									<style>
										.mobile_more_operate_btn {
											padding: 0px 4px; 
											background: #dee5ea; 
											border-radius: 0.2rem; 
											cursor: pointer;
										}
										.mobile_more_operate {
											display: none; 
											left: -195px; 
											top: -13px; 
											width: 185px; 
											background: #222222; 
											border-radius: 0.3rem;
										}
										.mobile_more_operate_box .post_report {
											color: #fff!important;
										}
									</style>
										
								</dd>
							</dl>
							<!-- <div></div> -->
							<div class="message mt-1 break-all">
																								<blockquote class="blockquote">
		<a href="https://bbs.pediy.com/user-348891.htm" class="text-small text-muted user">
			<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/348891.png" style="cursor: pointer;">
			kongfubull		</a>
		多谢回复指点，后来我想明白了，我以为是call YY这条指令的地址。		</blockquote><p>如果在游戏领空里的地址他是不会变化的，如果地址在其他模块里就会变化，比如CF&nbsp;</p>								
		<div class="text-right text-muted my-3 small font-italic">
		最后于 <span class="icon-clock-o ml-2"> </span>1天前		
				被明天去要饭编辑
				
		，原因： 		
	</div>
																																
								
							</div>
						</td>
					</tr>
								
										
													<tr class="post">
								<td class="td-avatar" aria-hidden="true">
									<a href="https://bbs.pediy.com/user-705338.htm" aria-hidden="true" tabindex="-1">
										<img class="avatar-3" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/avatar.png">
									</a>
								</td>
								<td class="p-l-0">
									<form action="" method="post" id="quick_reply_form">	
										
										<dl class="row small text-muted">
											<dt class="username">游客</dt>
											<dd class="text-right text-grey"></dd>
										</dl>
										<div class="message mt-1">
											<div style=" border-radius: 0.25rem; border: 1px solid #ced4da;">
												<div class="text-center small py-3">
													<a href="https://passport.kanxue.com/user-login.htm" class="small">登录</a>&nbsp;|&nbsp;<a href="https://passport.kanxue.com/user-mobile.htm" class="small">注册</a>&nbsp;方可回帖
												</div>
											</div>
										</div>
										<div class="text-muted  mt-2 small face_open">
											<dl class="row">
												<dt>
													<a class="btn btn-primary btn-sm" href="https://passport.kanxue.com/user-login.htm" role="button">　回帖　</a>
													
													<span class="emotion ml-3">表情</span>
													<span class="ml-3 d-none d-lg-inline-block"><a href="https://bbs.pediy.com/thread-247709.htm" target="_bank" style="color: #0099ee;">雪币赚取及消费</a></span>
												</dt>
												<dd class="text-right vtop">
													
													<a class="icon-mail-forward text-muted" href="https://passport.kanxue.com/user-login.htm" id="advanced_reply"> 高级回复</a>
													
												</dd>
											</dl>
										</div>
									</form>
								</td>
							</tr>
											</tbody>
				</table>
			</div>
		</div>
		
		
				
		
		
				
				
		<a role="button" class="btn btn-secondary btn-block xn-back my-3 mx-auto" style="max-width: 50%;" href="javascript:history.back();">返回</a>
		
		<br>
		<br>
		

		<div class="container">
	<div class="row mx-0 bbs_footer_at_column mt-3 mb-3 hidden-sm hidden-md" style="text-align: center; height: 76px;">
		<div class="col-md-6 px-0" style="height: 100%;">
			<a href="https://bbs.pediy.com/thread-257446.htm" style="height: 100%;" target="_blank">
				<p></p>
				<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bbs20.jpg" width="100%" height="100%">

			</a>
		</div>
		<div class="col-md-6 px-0" style="height: 100%;">
			<a href="https://www.bagevent.com/event/6324919" style="height: 100%;" target="_blank">
			<p></p>
			<img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/sdc2020.jpg" width="100%" height="100%">
		</a>
		</div>
	</div>
	</div>
		</div>

	</main>

	
	<footer id="footer" style="background: #3b4348; color: #9ba4aa; height: auto;">
		<div class="container">
			<div class="row text-muted small my-3 mx-0" id="web_base_company_information">
				<div class="col-md-6">
					©2000-2020 看雪学院 | Based on <a href="http://bbs.xiuno.com/" target="_blank" class="text-muted">Xiuno BBS</a> <br>
					域名：<a href="https://www.yunaq.com/" target="_blank" class="text-muted">加速乐</a> | 
					SSL证书：<a href="https://www.trustasia.com/trustasia" target="_blank" class="text-muted">亚洲诚信</a> | 
					<a href="http://dun.163.com/?from=kanxue_DDoS_2018&amp;hmsr=kanxue%C2%A0" target="_blank" class="text-muted">安全网易易盾</a>| 
					<a href="https://x.tongdun.cn/" target="_blank" class="text-muted">同盾反欺诈</a>|
					服务器：<a href="https://www.nsfocus.com.cn/" target="_blank" class="text-muted">绿盟科技</a>
				</div>
				<div class="col-md-6 text-right d-none d-md-block">
					<span class="hidden-sm">公众号：ikanxue</span> | 
					<a class="text-muted" href="https://zhuanlan.kanxue.com/article-56.htm">关于我们</a> | 
					<a class="text-muted" href="https://www.kanxue.com/user-online_sendmsg.htm">联系我们</a> | 
					<a href="https://zhuanlan.kanxue.com/article-1.htm" class="text-muted">企业服务</a> <br>
					Processed: <b>0.041</b>s, SQL: <b>42</b> / 京ICP备10040895号-17
				</div>
			</div>
			<div style="max-height: 100px; overflow-y:auto;">
							</div>
		</div>
	</footer>
	


	<!--[if lt IE 9]>
	<script>window.location = 'browser.htm';</script>
	<![endif]-->


	

	<div class="act_go_top" style="position: fixed; _position: absolute; bottom: 80px; right: 10px; z-index: 99; width: 70px; height: 70px; display: none;">
	<a href="javascript:void(0);" style="width: 70px; height: 70px; display: inline-block;background: url(/view/img/scroll_top.png) no-repeat; _background: url(/view/img/scroll_top.png) no-repeat; outline: none;" title="返回顶部"></a>
	</div>




<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bbs.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/jquery-3.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/popper.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bootstrap.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/xiuno.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/storagePlus.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bootstrap-plugin.js"></script><script language="javascript" src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/layer.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/async.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/form.js"></script>

<script>
// 用于个人中心 判断路由 center ，还是 pm
var sele_route = 'thread';
var sele_action = '259746';

var debug = DEBUG = 0;
var url_rewrite_on = 1;
var forumarr = {
    "177": "x64dbg插件收集区",
    "52": "OllyDbg插件收集区",
    "53": "IDA Pro插件收集区",
    "4": "『软件逆向』",
    "69": "『经典问答』",
    "102": "『科锐培训』",
    "141": "CrackMe存档区",
    "152": "学习园地",
    "2": "『论坛版务』",
    "76": "1)珠海金山2007逆向分析挑战",
    "99": "《加密与解密(第4版)》",
    "169": "『15PB培训』",
    "125": "奇虎360软件安全大赛答案提交区",
    "128": "『智能设备』",
    "21": "《软件加密技术内幕》",
    "68": "2)PEDIY Crackme竞",
    "41": "『编程技术』",
    "79": "前沿科技",
    "95": "《0day:软件漏洞分析技术》",
    "160": "『麦洛科菲培训』",
    "161": "『Android安全』",
    "166": "『iOS安全』",
    "88": "『加壳脱壳』",
    "91": "3)看雪论坛2008 Explo",
    "158": "移动平台",
    "3": "桌面平台",
    "120": "4)腾讯公司2008软件安全竞赛",
    "132": "『密码算法』",
    "123": "《微软.NET程序的加密与解密》",
    "127": "5)奇虎360软件安全比赛",
    "37": "『CTF对抗（原CrackMe版）』",
    "140": "6)PEDIY Crackme竞",
    "108": "企业建设",
    "65": "『图书项目』",
    "150": "『二进制漏洞』",
    "163": "《C++反汇编与逆向分析技术》",
    "116": "看雪CTF",
    "155": "8)腾讯公司2010软件安全竞赛",
    "168": "《Android安全与逆向分析》",
    "157": "9)2011 Exploit M",
    "121": "11）移动安全挑战赛（MSC）",
    "129": "12）2015第2届移动安全挑战",
    "136": "职场生活",
    "47": "『招聘专区』",
    "97": "『求助问答』",
    "1": "站务管理/产品",
    "10": "『资源下载』",
    "137": "『职业生涯』",
    "171": "『Pwn』",
    "20": "『¥付费问答』",
    "32": "『外文翻译』",
    "45": "『茶余饭后』",
    "162": "『业务安全』",
    "151": "『WEB安全』",
    "174": "『International  vision』",
    "172": "『区块链安全』",
    "173": "看雪安全接入"
};
var fid = 4;
var uid = 0;
var gid = 0;
$('[data-toggle="tooltip"]').tooltip();
$('#search_form > input').on('click', function() {
	return false;
});
</script>

<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/bbs_002.js"></script>

<script>
// 版主管理：精华
$('.mod-button button.digest').on('click', function() {
	var modtid = $('input[name="modtid"]').checked();
	if(modtid.length == 0) return $.alert(lang.please_choose_thread);
	var radios = xn.form_radio('digest', {"0": "取消精华", "1": "关注","2": "优秀", "3": "精华"});
	$.confirm("设置主题为精华", function() {
		var tids = xn.implode('_', modtid);
		var digest = $('input[name="digest"]').checked();
		var postdata = {digest: digest};
		$.xpost(xn.url('mod-digest-'+tids), postdata, function(code, message) {
			if(code != 0) return $.alert(message);
			$.alert(message).delay(1000).location('');
		});
	}, {'body': '<p>'+"精华等级"+'：'+radios+'</p>'});
})
</script><script>
function xn_read_unread(tids, tid) {
	
	// 当前时间
	var time = xn.time();
	
	// 多长时间内的主题为最新主题
	var time_range = 86400 * 3;
	
	// 三天内的 tids
	var recent_tids = $.pdata('recent_tids') || {};
	
	// 已读的 tids
	var view_tids = $.pdata('view_tids') || {};
	// 提取列表页的 tid
	function fetch_recent_tids(tids) {
		var changed = false;
		$.each(tids, function(tid, last_date) {
			if(time - last_date < time_range) {
				recent_tids[tid] = last_date;
				changed = true;
			}
		});
		if(changed) $.pdata('recent_tids', recent_tids);
	}
	
	// 清理最近的 tid
	function gc_recent_tids() {
		var changed = false;
		$.each(recent_tids, function(tid, last_date) {
			if(time - last_date > time_range) {
				delete recent_tids[tid];
				changed = true;
			}
		});
		if(changed) $.pdata('recent_tids', recent_tids);
	}
	
	function gc_view_tids() {
		var changed = false;
		$.each(view_tids, function(tid, last_date) {
			if(!recent_tids[tid]) {
				delete view_tids[tid];
				changed = true;
			}
		});
		if(changed) $.pdata('view_tids', view_tids);
	}
	
	function save_view_tid(tid) {
		if(!recent_tids[tid]) return;
		view_tids[tid] = time;
		$.pdata('view_tids', view_tids);
	}
	
	if(tids) {
		fetch_recent_tids(tids);
		gc_recent_tids();
		//gc_view_tids();
	}
	if(tid) save_view_tid(tid);
	
	// 三天内的主题标记为已读
	
	// 遍历主题列表，标记最近的，并且未读的为加粗

	$('.thread').each(function() {
		var jthis = $(this);
		var tid = jthis.attr('tid') || jthis.data('tid');
		if(recent_tids[tid] && recent_tids[tid] > xn.intval(view_tids[tid])) {
			//jthis.find('div.subject').addClass('font-weight-bold');
			jthis.find('div.subject').append('<span class="icon-new"></span>');
			jthis.find('span.icon-post-grey').removeClass('icon-post-grey').addClass('icon-post-blue');
		}
	});
}

</script>

<script type="text/javascript">
$(function() {
	setTimeout(function() {
		$.require('https://www.google-analytics.com/ga.js', function() {
			try {
				var pageTracker = _gat._getTracker("UA-9784446-1");
				pageTracker._trackPageview();
			} catch (err) {}
		});
	}, 1000);

	setTimeout(function() {
		$(".bbs_home_page_three_col .small_logo").each(function(index, element) {

			if ($(element).children("a").length == 0) {
				$(".bbs_home_page_three_col .bbs_home_page_row_div").eq(index).children('div:first-child').removeClass("col-lg-8").addClass("col-lg-9");
				$(".bbs_home_page_three_col .bbs_home_page_row_div").eq(index).children('div:last-child').removeClass("col-lg-4").addClass("col-lg-3");
				$(".bbs_home_page_three_col .bbs_home_page_row_div").eq(index).children('div:first-child').children("span").css("width", "19rem");
			}
		})
	}, 2000);


	if (self != top) {
		$('#header').hide();
		$('#nav2').hide();
		$('#footer').hide();
	}


	 // 导航
    var new_p = 0, start_scrollTop = 0;
        $(window).scroll(function(e){  
                new_p = $(this).scrollTop();  
                  
                if(start_scrollTop < new_p) {//下滚  
                    $('.header_fiexd').css("display","none");
                } else {//上滚  
                    $('.header_fiexd').css("display","block");
                }  
                setTimeout(function(){start_scrollTop = new_p;},0);         
        });

	
	// 返回顶部
	$(window).scroll(function() {
		if ($(window).scrollTop() >= 500) {
			$('.act_go_top').fadeIn(300);
		} else {
			$('.act_go_top').fadeOut(300);
		}
	});

	$('.act_go_top').click(function() {
		$('html,body').animate({
			scrollTop: '0px'
		}, 100);
	});
	var m1 = 0;     // 滚动的值
	var m2 = 0;     // 对比时间的值
	var timer = null;
	document.onscroll = function() {
		clearTimeout(timer) // 每次滚动前 清除一次
		timer = setTimeout(Data, 2000);
		m1 = document.documentElement.scrollTop || document.body.scrollTop;

	}
	function Data() {
		m2 = document.documentElement.scrollTop || document.body.scrollTop;
		if(m2 == m1){
		    $('.act_go_top').fadeOut(300);
		}
	}
	// 3600000
	var d = new Date();
	var session_interval = d.getTime() - $.pdata('top-banner-session');
	
	if (session_interval > 3600000) {
		$.pdata('top-banner', 0);
	}
	if ($.pdata('top-banner') == 1) {
		$(".top-banner").hide();
	} else {
		$(".top-banner").slideDown();
	}
	$(".top-banner-section .closeBanner").on("click", function(){
		
		$.pdata('top-banner', 1);
		$.pdata('top-banner-session', d.getTime());
		$(".top-banner").animate({height:'0'})
	})
	
});


</script>

<script>
(function() {
	var islogin = '0';
	if(islogin == 0)  return; 
	var pm_number = "//www.kanxue.com/pm-new.htm";
	$.xget(pm_number, function(code, message) {
		var pm_number = $(".pm_number");
		var sysm_number = $(".system_message_number");
		if (code == 0) {
			var newpms = parseInt(message.newpms);
			var system_pms = parseInt(message.system_pms);
			var pm_total = newpms + system_pms;
			if (pm_total != 0) {
				pm_total = pm_total > 99 ? "99+" : pm_total;
				$(".pm_total").html(pm_total);
				// $(".pm_total").css({
				// 	"display": "inline-block",
				// 	"padding": "0px 7px",
				// 	"font-size": "12px",
				// 	"line-height": "20px",
				// 	"color": "white",
				// 	"background-color": "#f57e42",
				// 	"border-radius": "9px",
				// 	"text-indent": "0px"
				// });

				if (system_pms > 0 && newpms == 0) {
					var href = "//www.kanxue.com/pm-system_read-1.htm";
					$(".pm_total_a").attr("href", href);
				}

			} else {
				// $(".pm_total_a").css("display","none");
			};
			if (message.newpms != 0) {
				pm_number.html(message.newpms);
				pm_number.addClass("pmmessage_number");
			} else {
				pm_number.css("display", "none");
			};
			if (message.system_pms != 0) {
				sysm_number.html(message.system_pms);
				sysm_number.addClass("pmmessage_number");
			} else {
				sysm_number.css("display", "none");
			};
			if (message.newpms != 0) {
				pm_number.html(message.newpms);
				pm_number.addClass("pm_numbers_");
			} else {
				pm_number.css("display", "none");
			};
			if (message.system_pms != 0) {
				sysm_number.html(message.system_pms);
				sysm_number.addClass("pm_numbers_");
			} else {
				sysm_number.css("display", "none");
			};


		} else {
			
			pm_number.css("display", "none");
			sysm_number.css("display", "none");

		}
	})


})(jQuery);
</script>
<script>
	//统计在线

	(function() {

		var uid = '0';
		var current_time = '1591858899';
		
		var last_time;
		if(uid > 0) {
			//10分钟以内不请求。
			last_time = storagePlus.get('last_active_time_'+uid) || 0;
			//大于5分钟请求接口。
			if((current_time - last_time)/60 > 5) {
				$.xpost('user-online_sumtime.htm',{}, function(code, msg) {
					if(code == 0) {
						storagePlus.set('last_active_time_'+uid, msg);
					} else {
						console.info('msg');
					}
				});
			}
		}



	})();

	


</script>
<script>

var forumlist = [
    {
        "fid": "177",
        "fup": "10",
        "name": "x64dbg插件收集区",
        "rank": "40"
    },
    {
        "fid": "52",
        "fup": "10",
        "name": "OllyDbg插件收集区",
        "rank": "39"
    },
    {
        "fid": "53",
        "fup": "10",
        "name": "IDA Pro插件收集区",
        "rank": "38"
    },
    {
        "fid": "4",
        "fup": "3",
        "name": "『软件逆向』",
        "rank": "29"
    },
    {
        "fid": "29",
        "fup": "2",
        "name": "『论坛管理团队』",
        "rank": "29"
    },
    {
        "fid": "69",
        "fup": "20",
        "name": "『经典问答』",
        "rank": "29"
    },
    {
        "fid": "122",
        "fup": "37",
        "name": "KCTF2020提交区(隐藏版块)",
        "rank": "29"
    },
    {
        "fid": "102",
        "fup": "137",
        "name": "『科锐培训』",
        "rank": "29"
    },
    {
        "fid": "141",
        "fup": "140",
        "name": "CrackMe存档区",
        "rank": "29"
    },
    {
        "fid": "152",
        "fup": "0",
        "name": "学习园地",
        "rank": "29"
    },
    {
        "fid": "2",
        "fup": "1",
        "name": "『论坛版务』",
        "rank": "28"
    },
    {
        "fid": "76",
        "fup": "37",
        "name": "1)珠海金山2007逆向分析挑战",
        "rank": "28"
    },
    {
        "fid": "99",
        "fup": "65",
        "name": "《加密与解密(第4版)》",
        "rank": "28"
    },
    {
        "fid": "169",
        "fup": "137",
        "name": "『15PB培训』",
        "rank": "28"
    },
    {
        "fid": "125",
        "fup": "127",
        "name": "奇虎360软件安全大赛答案提交区",
        "rank": "28"
    },
    {
        "fid": "128",
        "fup": "79",
        "name": "『智能设备』",
        "rank": "27"
    },
    {
        "fid": "21",
        "fup": "57",
        "name": "《软件加密技术内幕》",
        "rank": "27"
    },
    {
        "fid": "68",
        "fup": "37",
        "name": "2)PEDIY Crackme竞",
        "rank": "27"
    },
    {
        "fid": "41",
        "fup": "3",
        "name": "『编程技术』",
        "rank": "27"
    },
    {
        "fid": "79",
        "fup": "0",
        "name": "前沿科技",
        "rank": "27"
    },
    {
        "fid": "78",
        "fup": "2",
        "name": "『申请提交区』",
        "rank": "27"
    },
    {
        "fid": "95",
        "fup": "65",
        "name": "《0day:软件漏洞分析技术》",
        "rank": "27"
    },
    {
        "fid": "160",
        "fup": "137",
        "name": "『麦洛科菲培训』",
        "rank": "27"
    },
    {
        "fid": "161",
        "fup": "158",
        "name": "『Android安全』",
        "rank": "27"
    },
    {
        "fid": "166",
        "fup": "158",
        "name": "『iOS安全』",
        "rank": "27"
    },
    {
        "fid": "88",
        "fup": "3",
        "name": "『加壳脱壳』",
        "rank": "26"
    },
    {
        "fid": "91",
        "fup": "37",
        "name": "3)看雪论坛2008 Explo",
        "rank": "26"
    },
    {
        "fid": "158",
        "fup": "0",
        "name": "移动平台",
        "rank": "26"
    },
    {
        "fid": "3",
        "fup": "0",
        "name": "桌面平台",
        "rank": "25"
    },
    {
        "fid": "120",
        "fup": "37",
        "name": "4)腾讯公司2008软件安全竞赛",
        "rank": "25"
    },
    {
        "fid": "57",
        "fup": "2",
        "name": "『回收站』",
        "rank": "25"
    },
    {
        "fid": "132",
        "fup": "3",
        "name": "『密码算法』",
        "rank": "24"
    },
    {
        "fid": "123",
        "fup": "57",
        "name": "《微软.NET程序的加密与解密》",
        "rank": "24"
    },
    {
        "fid": "127",
        "fup": "37",
        "name": "5)奇虎360软件安全比赛",
        "rank": "24"
    },
    {
        "fid": "37",
        "fup": "116",
        "name": "『CTF对抗（原CrackMe版）』",
        "rank": "23"
    },
    {
        "fid": "140",
        "fup": "37",
        "name": "6)PEDIY Crackme竞",
        "rank": "23"
    },
    {
        "fid": "108",
        "fup": "0",
        "name": "企业建设",
        "rank": "22"
    },
    {
        "fid": "65",
        "fup": "1",
        "name": "『图书项目』",
        "rank": "22"
    },
    {
        "fid": "150",
        "fup": "3",
        "name": "『二进制漏洞』",
        "rank": "22"
    },
    {
        "fid": "163",
        "fup": "65",
        "name": "《C++反汇编与逆向分析技术》",
        "rank": "22"
    },
    {
        "fid": "116",
        "fup": "0",
        "name": "看雪CTF",
        "rank": "21"
    },
    {
        "fid": "155",
        "fup": "37",
        "name": "8)腾讯公司2010软件安全竞赛",
        "rank": "21"
    },
    {
        "fid": "168",
        "fup": "65",
        "name": "《Android安全与逆向分析》",
        "rank": "21"
    },
    {
        "fid": "157",
        "fup": "37",
        "name": "9)2011 Exploit M",
        "rank": "20"
    },
    {
        "fid": "121",
        "fup": "37",
        "name": "11）移动安全挑战赛（MSC）",
        "rank": "18"
    },
    {
        "fid": "129",
        "fup": "37",
        "name": "12）2015第2届移动安全挑战",
        "rank": "17"
    },
    {
        "fid": "136",
        "fup": "0",
        "name": "职场生活",
        "rank": "12"
    },
    {
        "fid": "175",
        "fup": "137",
        "name": "《安卓高级研修二万班》",
        "rank": "5"
    },
    {
        "fid": "47",
        "fup": "136",
        "name": "『招聘专区』",
        "rank": "4"
    },
    {
        "fid": "97",
        "fup": "152",
        "name": "『求助问答』",
        "rank": "4"
    },
    {
        "fid": "1",
        "fup": "0",
        "name": "站务管理/产品",
        "rank": "3"
    },
    {
        "fid": "10",
        "fup": "152",
        "name": "『资源下载』",
        "rank": "3"
    },
    {
        "fid": "137",
        "fup": "136",
        "name": "『职业生涯』",
        "rank": "3"
    },
    {
        "fid": "176",
        "fup": "137",
        "name": "《安卓高级研修三万班》",
        "rank": "3"
    },
    {
        "fid": "171",
        "fup": "116",
        "name": "『Pwn』",
        "rank": "2"
    },
    {
        "fid": "20",
        "fup": "152",
        "name": "『¥付费问答』",
        "rank": "2"
    },
    {
        "fid": "32",
        "fup": "152",
        "name": "『外文翻译』",
        "rank": "2"
    },
    {
        "fid": "45",
        "fup": "136",
        "name": "『茶余饭后』",
        "rank": "2"
    },
    {
        "fid": "162",
        "fup": "108",
        "name": "『业务安全』",
        "rank": "2"
    },
    {
        "fid": "170",
        "fup": "57",
        "name": "看雪产品",
        "rank": "2"
    },
    {
        "fid": "64",
        "fup": "136",
        "name": "『会员专区』",
        "rank": "1"
    },
    {
        "fid": "151",
        "fup": "108",
        "name": "『WEB安全』",
        "rank": "1"
    },
    {
        "fid": "174",
        "fup": "32",
        "name": "『International  vision』",
        "rank": "1"
    },
    {
        "fid": "172",
        "fup": "79",
        "name": "『区块链安全』",
        "rank": "0"
    },
    {
        "fid": "173",
        "fup": "3",
        "name": "看雪安全接入",
        "rank": "0"
    }
];

// 三级版块
function forum_tree(forumlist, template) {
	var template = template || '<option value="{fid}">{tab}{name}</option>'+"\r\n";
	var s = '';
	var forumlist1 = forumlist.filter(function(v) {return v.fup == 0});
	for(var i1=0; i1<forumlist1.length; i1++) {
		var v1 = forumlist1[i1];
		s += '►'+xn.template(template, {fid: v1.fid, name: v1.name, tab: "　"});
		var forumlist2 = forumlist.filter(function(v2) {return v2.fup == v1.fid});
		for(var i2=0; i2<forumlist2.length; i2++) {
			var v2 = forumlist2[i2];
			s += xn.template(template, {fid: v2.fid, name: v2.name, tab: "　　"});
			var forumlist3 = forumlist.filter(function(v3) {return v3.fup == v2.fid});
			for(var i3=0; i3<forumlist3.length; i3++) {
				var v3 = forumlist3[i3];
				s += xn.template(template, {fid: v3.fid, name: v3.name, tab: "　　　　"});
			}

		}
	}
	return s;
}


// 版主管理：移动 / moderator : move
$('.mod-button button.move').off('click').on('click', function() {
	var modtid = $('input[name="modtid"]').checked();
	if(modtid.length == 0) return $.alert(lang.please_choose_thread);
	var select = '<select name="fid">'+forum_tree(forumlist)+'</select>';
	$.confirm(lang.move_forum, function() {
		var tids = xn.implode('_', modtid);
		var newfid = $('select[name="fid"]').val();
		$.xpost(xn.url('mod-move-'+tids+'-'+newfid), function(code, message) {
			if(code != 0) return $.alert(message);
			$.alert(message).delay(1000).location('');
		});
	}, {'body': '<p>'+lang.choose_move_forum+'：'+select+'</p>'});
})

</script><script>

// 版主管理：审核
$('.mod-button button.audit').on('click', function() {
	var modtid = $('input[name="modtid"]').checked();
	if(modtid.length == 0) return $.alert(lang.please_choose_thread);
	var radios = xn.form_radio('audit', {"1": "审核通过", "2": "审核不通过"});
	$.confirm('审核主题', function() {
		var tids = xn.implode('_', modtid);
		var audit = $('input[name="audit"]').checked();
		var postdata = {audit: audit};
		$.xpost(xn.url('mod-audit-'+tids), postdata, function(code, message) {
			if(code != 0) return $.alert(message);
			$.alert(message).delay(1000).location('');
		});
	}, {'body': '<p>'+'审核选项'+'：'+radios+'</p>'});
})

</script>
<script>

$(function() {
	// 版主管理：删除 / moderator : delete
	$('.mod-button button.delete').off('click').on('click', function() {
		var modtid = $('input[name="modtid"]').checked();
		if(modtid.length == 0) return $.alert(lang.please_choose_thread);
		var radios = '';
				//var htmladd = '<br><br><label class="text-small"><input type="checkbox" name="logic" value="0" /> 物理删除</label>';
		//htmladd += '<br><label class="text-small"><input type="checkbox" name="logic" value="0" /> 恢复删除</label>';
		$.confirm(xn.lang('confirm_delete_thread', {n:modtid.length}) + '<br><br>'+radios, function() {
			var tids = xn.implode('_', modtid);
			var type = $('input[name="type"]').checked();
			$.xpost(xn.url('mod-delete-'+tids), {type: type}, function(code, message) {
				if(code != 0) return $.alert(message);
				$.alert(message).delay(1000).location('');
			});
		});
	})

	// 恢复逻辑删除的帖子
	$('body').on('click', '.post_recover', function() {
		var jthis = $(this);
		var href = jthis.data('href');
		var isfirst = jthis.attr('isfirst');
		if(window.confirm('确定恢复删除的帖子？')) {
			$.xpost(href, function(code, message) {
				var isfirst = jthis.attr('isfirst');
				if(code == 0) {
					if(isfirst == '1') {
						$.location('forum-4.htm');
					} else {
						window.location.reload();
					}
				} else {
					$.alert(message);
				}
			});
		}
		return false;
	});

})

</script>

<div class="modal fade appeal" id="appeal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                        <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                        </button>
                        <h4 class="modal-title" id="exampleModalLabel">求助问答申诉</h4>
                        </div>
                        <form id="form_appeal" action="post-appeal.htm" method="post">
	                        <div class="modal-body">
	                                <div class="form-group">
	                                	<input id="pid" name="pid" value="0" type="hidden">
	                                        <textarea class="form-control" id="brief" name="brief" rows="6" placeholder="请填写内容，注意: 请写明申诉的原因"></textarea>
	                                </div>
	                        </div>
	                        <div class="modal-footer">
	                                <button id="appeal_submit" type="button" class="btn btn-primary" data-loading-text="正在提交...">申请提交</button>
	                        </div>
	                </form>
                </div>
        </div>
</div><div class="modal fade report" id="report" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                        <div class="modal-header">
                       
                        <h4 class="modal-title" id="exampleModalLabel">举报此帖</h4>
                         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                        </button>
                        </div>
                        <form id="form_report" action="post-report.htm" method="post">
                                <div class="modal-body">
                                        <div class="form-group">
                                                <input id="tid" name="tid" value="0" type="hidden">
                                                <input id="pid" name="pid" value="0" type="hidden">
                                                <textarea class="form-control" id="brief" name="brief" rows="6" placeholder="请填写内容，注意: 请确认您所举报此帖的内容涉及到语言挑衅和违犯论坛版规的内容， 版主将收到举报后审核该帖！"></textarea>
                                        </div>
                                </div>
                                <div class="modal-footer">
                                        <button id="report_submit" type="button" class="btn btn-primary" data-loading-text="正在提交...">发送报告</button>
                                </div>
                        </form>
                </div>
        </div>
</div>

<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/face.js"></script>
<script src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/qqLevel.js"></script>
<script>
var thread_uid = '889500';
var passport_domain = 'passport.kanxue.com';
// 回复 操作按钮 手机端 显示隐藏方法 开始
function mobile_more_operate(e){
	$(".mobile_more_operate").hide();
	$(e.target).siblings(".mobile_more_operate").fadeIn();
}
$(document).scroll(function(){
	$(".mobile_more_operate").hide();
})
$(document).on("click", function(e){

	if ($(e.target).parents(".mobile_more_operate_btn").length == 0 && !$(e.target).hasClass('mobile_more_operate_btn')) {
		$(".mobile_more_operate").hide();
	}
	
})
// 回复 操作按钮 手机端 显示隐藏方法 结束

function show_level(event) {
	var el = event.target;
	
	var usergid = $(el).attr("data-gid");
	$.tips('<span class="level-'+usergid+' level"></span>', $(el), {
		tips: [3, '#fff'],
		time: 2000
	});
}

function show_online_level(event) {
	var el = event.target;
	
	var userdesc = $(el).attr("data-desc");

	$.tips('<span class="text-muted">'+userdesc+'</span>', $(el), {
		tips: [3, '#fff'],
		time: 2000
	});
}
function online_time_imgs(v) {

	var online_time = $(v).data('online_time');
	var level = qqLevel.getLevel(online_time);
	var imgs = qqLevel.getImg(level, [
		'//'+passport_domain+'/pc/view/img/star_0.gif',
		'//'+passport_domain+'/pc/view/img/star.gif',
		'//'+passport_domain+'/pc/view/img/moon.gif',
		'//'+passport_domain+'/pc/view/img/sun.gif',
		'//'+passport_domain+'/pc/view/img/king.gif',
	]);
	var desc = qqLevel.getDesc(online_time);
	$(v).attr('data-desc', desc);
	$(v).html(imgs);
}
$(".post_online_time").each(function(k, v) {
	online_time_imgs(v)
})

// 快速回帖切换到高级回复时，编辑框文字保存一下来
$('.senior_reply').on('click', function(){
	var  quick_reply_message = $('#quick_reply_form').find('#message').val().trim();

	// quick_reply_message = quick_reply_message.replace(/\[em_([0-9]+)\]/g, '<img src="/view/img/face/$1.gif" class="face" style="cursor: pointer;">');
	
	function senior_reply_pdata(return_obj) {
		$.pdata('quick_reply_message', quick_reply_message);
		return return_obj();
	}
	function senior_reply_return(){
		window.location.href= 'post-create-259746.htm';
	};
	senior_reply_pdata(senior_reply_return);
	
})


function shareTo(stype){
	var ftit = '';
	var flink = '';
	var lk = '';
	//获取文章标题
	ftit = $('.subject').text();
	//获取网页中内容的第一张图片
	flink = $('.message img').eq(0).attr('src');

	if(typeof flink == 'undefined'){
		flink='';
	}
	//当内容中没有图片时，设置分享图片为网站logo
	if(flink == ''){
		lk = 'http://bbs.pediy.com/plugin/kanxue/img/kanxuelogo.png';
	}
	//如果是上传的图片则进行绝对路径拼接
	if(flink.indexOf('upload/') != -1) {
		lk = 'http://bbs.pediy.com/'+flink;
	}
	//qq空间接口的传参
	if(stype=='qzone'){
		var iw=800; //弹出窗口的宽度;
		var ih=500; //弹出窗口的高度;
		var it = (window.screen.availHeight-30-ih)/4; //获得窗口的垂直位置;
		var il = (window.screen.availWidth-10-iw)/4; //获得窗口的水平位置;
		var openurl = 'https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url='+document.location.href+'?sharesource=qzone&title='+ftit+'&pics='+lk+'&summary='+document.querySelector('meta[name="description"]').getAttribute('content');
		window.open(openurl,"","height="+ih+", width="+iw+", top="+it+", left="+il);
	}
	//新浪微博接口的传参
	if(stype=='sina'){
		var iw=500; //弹出窗口的宽度;
		var ih=500; //弹出窗口的高度;
		var it = (window.screen.availHeight-30-ih)/4; //获得窗口的垂直位置;
		var il = (window.screen.availWidth-10-iw)/4; //获得窗口的水平位置;
		var openurl = 'http://service.weibo.com/share/share.php?url='+document.location.href+'?sharesource=weibo&title='+ftit+'&pic='+lk;
		window.open(openurl,"","height="+ih+", width="+iw+", top="+it+", left="+il);
	
	}
	//qq好友接口的传参
	if(stype == 'qq'){
		var iw=800; //弹出窗口的宽度;
		var ih=500; //弹出窗口的高度;
		var it = (window.screen.availHeight-30-ih)/4; //获得窗口的垂直位置;
		var il = (window.screen.availWidth-10-iw)/4; //获得窗口的水平位置;
		var openurl = 'http://connect.qq.com/widget/shareqq/index.html?url='+document.location.href+'?sharesource=qzone&title='+ftit+'&pics='+lk+'&summary='+document.querySelector('meta[name="description"]').getAttribute('content')+'&desc=看雪学院，一个有情怀的安全开发者交流的网站'
		window.open(openurl,"","height="+ih+", width="+iw+", top="+it+", left="+il);
	}
	//生成二维码给微信扫描分享，php生成，也可以用jquery.qrcode.js插件实现二维码生成
	if(stype == 'wechat'){
		
		$.tips('<img width="150" src="bbs_qrcode-http_3A_2F_2Fbbs_2epediy_2ecom_2Fthread_2d259746_2ehtm.htm">',$("#wxshare"),{ tips: [2, '#eee'],time: 5000});
	}
}
$(function() {
	var jform = $('#quick_reply_form');
	var jsubmit = $('#submit');
	jform.on('submit', function() {
		jform.reset();
		jsubmit.button('loading');
		var postdata = jform.serialize();
		$.xpost(jform.attr('action'), postdata, function(code, message) {
			if (code == 0) {
				var s = '<table>' + message + '</table>';
				var jtr = $(s).find('tr');
				jtr.insertBefore($('table.postlist tr').last());
				jsubmit.button('reset');
				$('#message').val('');

				// 楼层 +1
				var jfloor = jform.find('.floor');
				jfloor.html(xn.intval(jfloor.html()) + 1);

				// 回复数 +1
				var jposts = $('.posts');
				jposts.html(xn.intval(jposts.html()) + 1);

			} else if (code < 0) {
				$.alert(message);
				jsubmit.button('reset');
			} else {
				jform.find('[name="' + code + '"]').alert(message).focus();
				jsubmit.button('reset');
			}
		});
		return false;
	});


	//收藏功能
	var jfavorite = $('#favorite');
	var jlikes = $('#likes');
   
	jfavorite.on('click', function() {
		var likenum = jlikes.text();
		likenum_plus = parseInt(likenum) + 1;
		likenum_sub = parseInt(likenum) - 1;
		if(likenum_sub < 0) likenum_sub = 0;
		$.xpost('thread-favorite-259746.htm', function(code, message) {
			if(code == 0) {
				var s = '<a href="javascript:void(0)" title="取消收藏"><i class="icon-star-o" style="color: #0099ee;"></i>&nbsp;<span style="color: #0099ee;">已收藏</span></a>';
				jfavorite.html(s);
				jlikes.text(likenum_plus);

			}else if(code == 1) {
				var s = '<a href="javascript:void(0)" title="点我收藏"><i class="icon-star-o"></i>&nbsp;收藏</a>';
				jfavorite.html(s);
				jlikes.text(likenum_sub);
			} else {
				$.alert(message);
			}
		});
		return false;
	});
	// 缩放图片，适应屏幕大小。
	function resize_image() {
		var jmessagelist = $('div.message');
		var first_width = jmessagelist.width(); // 815 : 746; //  734 746
		jmessagelist.each(function() {
			var jdiv = $(this);
			var maxwidth = jdiv.attr('isfirst') ? first_width : first_width - 79; //  734 746
			var jmessage_width = Math.min(jdiv.width(), maxwidth);
			jdiv.find('img, embed, iframe').each(function() {
				var jimg = $(this);
				//if(jimg.width() < 500) return;
				var img_width = this.org_width;
				var img_height = this.org_height;
				if (!img_width) {
					var img_width = jimg.width();
					var img_height = jimg.height();
					this.org_width = img_width;
					this.org_height = img_height;
				}
				//var percent = xn.min(100, xn.ceil((img_width / jmessage_width) * 100));
				if (img_width > jmessage_width) {
					if (this.tagName == 'IMG') {
						jimg.width(jmessage_width);
						jimg.css('height', 'auto');
					} else {
						jimg.width(jmessage_width);
						var height = (img_height / img_width) * jimg.width();
						jimg.height(height);
					}
				}

			});
			
			jdiv.find('p').each(function() {
				var jp = $(this);
				if($.trim(jp.text()) == '') {
					jp.css('line-height', '1');
				}
			});
		});
	}
	// resize_image();
	// $(window).on('resize', resize_image);


 	//---------by wang start------------------------//
	//取出tr的pid，赋值给tr使name为point_pid
	// $(".post").each(function() {
	// 	var cpid = $(this).attr("pid");
	// 	$(this).attr("id","point_"+ cpid);
	// });
	var url = window.location.toString();
	
	if(url.indexOf("#") != -1){
		var cpid = url.split("#")[1];
		if(cpid) {
			$(".post").each(function(k,v) {
				if($(v).attr("pid") == cpid) {
					var t = $(this).offset() ? $(this).offset().top : 0;
					//$("#frame_right").scrollTop(t);
					$("html,body").animate({scrollTop:t},800)
				}
				
			});
			
		}
	}
	
	//------------by wang end----------------------------//


	
	// 输入框自动伸缩
	var jmessage = $('#message');
	jmessage.on('focus', function() {
		if (jmessage.t) {
			clearTimeout(jmessage.t);
			jmessage.t = null;
		}
		jmessage.css('height', '6rem');
	});
	jmessage.on('blur', function() {
		jmessage.t = setTimeout(function() {
			jmessage.css('height', '2.5rem');
		}, 1000);
	});

	$('#nav_pc li[fid="4"]').addClass('active');
	$('#nav_mobile li[fid="4"]').addClass('active');

	 $(function(){
		$('.emotion').qqFace({
			id : 'facebox',
			assign:'message',
			path:'view/img/face/'
		});
	});

	$("div.message img").css("cursor","pointer");
	$("div.message img").on("click",function() {
		if (window.innerWidth > 768) {
			var img_src = $(this).attr("src");
			window.open(img_src);
		}
	})
	setTimeout(function() {
		$("div.message img").each(function(index, element) {
			if ($(element).width() >= 100) {
				$(element).addClass("div_message_boxShadow");
			}
		})
	}, 2000);
	
	function IsPC() {
		var userAgentInfo = navigator.userAgent;
		var Agents = ["Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod"];
		var flag = true;
		for (var v = 0; v < Agents.length; v++) {
			if (userAgentInfo.indexOf(Agents[v]) > 0) {
				flag = false;
				break;
			}
		}
		return flag;
	}

	// 弹出分享页面

	$(".bbsshare_btn").on('click', function(event){
		$.open({
			type: 1,
			title: false,
			content: $('.bd-bbsshare-modal-sm'),
			offset: 'auto',
			shadeClose: false,
			shade: false,

		});

	});

	if ($.pdata('collapse_reward') && $.pdata('collapse_reward') == 1) {
		$("#collapse_reward").removeClass('show');
		$(".collapse_btn").find("span").html("展开");
		$(".collapse_btn").find("i").removeClass("icon-angle-up").addClass("icon-angle-down");
		
	} else if( $.pdata('collapse_reward') == 0 || $.pdata('collapse_reward') == '' || $.pdata('collapse_reward') == null) {
		$("#collapse_reward").addClass('show');
		$(".collapse_btn").find("span").html("收起");
		$(".collapse_btn").find("i").removeClass("icon-angle-down").addClass("icon-angle-up");
	}
	$("#collapse_reward").on('hide.bs.collapse', function () {
		$.pdata('collapse_reward', 1)
		$(".collapse_btn").find("span").html("展开");
		$(".collapse_btn").find("i").removeClass("icon-angle-up").addClass("icon-angle-down");
		
		
	})
	$("#collapse_reward").on('show.bs.collapse', function () {
		$.pdata('collapse_reward', 0)
		$(".collapse_btn").find("span").html("收起");
		$(".collapse_btn").find("i").removeClass("icon-angle-down").addClass("icon-angle-up");
		
	})
	

	$(".follow_btn_svg").on("click", function(){
		var that = $(this);
		$.xpost("user-follow.htm", {followed_uid: thread_uid}, function(code, message) {
			if (code == 0) {
				$.msg(message);
				that.parent(".follow_btn_span").remove();
			} else if (code == 1) {
				$.msg(message);
			}
		})
	})
});


</script>

<div style="position: absolute;top: 50%;left: 50%;transform: translateX(-50%) translateY(-50%);" class="modal fade bd-example-modal-sm" id="wxpay_modal" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">

    <div class="modal-content text-center ">
        <div class="" style="height: 55px; border-bottom: 1px solid rgba(204, 204, 204, 0.26); background-image: url(./view/img/pay_s.png); background-repeat: no-repeat; background-position: bottom center;">
            <button type="button" class="close mr-3" style="margin-top: 1.5rem;" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
                <span class="sr-only">Close</span>
            </button>
        </div>
        <div class="wxpay_modal_body">

        </div>
    </div>
</div>
</div>
<script>
var jpay_form = $('#pay_kx');
var jkxpay = $('.kx-pay');
var rid = 0;
var check_handle = null;

function topay(){
    clearInterval(check_handle);
    check_handle = null;
    var valtype = $("input[name='reward_type']:checked").val();
    var rmbstype = $("input[name='reward_rmbs']:checked").val();
    if(!valtype) { alert('请您选择一个支付方式!'); return false; }
    if(rmbstype < 1) {
        alert("打赏金额不能少于1元");
        return false;
    }else if(valtype == 1){
        if(_is_weixin) {
            $.alert('请用其它浏览器打开再用赞赏功能!');
            return false;
        }

        window.Popup = window.open('about:blank', '_blank','width='+window.screen.width+',height='+window.screen.height+', ...');
        var ptdata = jpay_form.serialize();
        jkxpay.button('loading');
        $.xpost('reward_pay-charge.htm', ptdata, function(code, message) {
            if(code == 0) {
                Popup.blur();
                Popup.opener.focus();
                Popup.location = 'reward_pay-reward_alipay-'+ message +'.htm';
                jkxpay.button('reset');
                $('.reward').modal('hide');
                check_setInterval(message);
            } else if(code < 0) {
                Popup.close();
                alert(message);
                jkxpay.button('reset');
            } else {
                Popup.close();
                alert(message);
                jkxpay.button('reset');
            }
        });
        return false;
    }else if(valtype == 2){
        var postdata = jpay_form.serialize();
        jkxpay.button('loading');
        $.xpost('reward_pay-reward_remainder.htm', postdata, function(code, message) {
            if(code == 0) {
                $.alert(message);
                jkxpay.button('reset');
                $('.reward').modal('hide');
                window.location.reload();
            } else if(code < 0) {
               $.alert(message);
                jkxpay.button('reset');
            } else {
                $.alert(message);
                jkxpay.button('reset');
            }
        });
        return false;
    }else if(valtype == 3) {

        // $('#wxpay_modal').modal({backdrop: 'static', keyboard: false});
        var ptdata = jpay_form.serialize();
        jkxpay.button('loading');
        $.xpost('reward_pay-charge.htm', ptdata, function(code, message) {
            if(code == 0) {
                //微信支付
                $.xget('reward_pay-wxpay-'+ message +'.htm',function(cd,msg) {
                    if(cd == 0) {
                        check_setInterval(message);

                        //$(".wxpay_code img").attr('src', 'http://paysdk.weixin.qq.com/example/qrcode.php?data='+ msg);
                        var wx_img = '<div class="pt-3 text-center"><img src="./view/img/wxpay2.png" style="height: 40px;"></div>\
                        <div class="modal-body wxpay_code pt-3 pb-3">\
                            <div  style="width: 80%;text-align:center; margin: 0 auto;">\
                                <span class="wx_img"><img alt="扫码支付" style="width: 60%;" src="//bbs.pediy.com/reward_pay-wxcode-'+ xn.urlencode(msg) +'.htm"/></span>\
                                <span class="pay_success_shadow" style="display: none;"></span>\
                            </div>\
                            <div class="text-center text-muted mt-3">打开微信扫一扫，即可完成支付</div>\
                            <div class="swal2-icon swal2-success swal2-animate-success-icon">\
                                <span class="swal2-success-line-tip "></span>\
                                <span class="swal2-success-line-long "></span></div></div>';  
                        $(".wxpay_modal_body").html(wx_img);
                        jkxpay.button('reset');
                        $(".reward").modal('hide');
                        $('#wxpay_modal').modal({backdrop: 'static', keyboard: false});
                        $('#wxpay_modal').modal('show');
                    } else {
                        $.alert(msg);
                        jkxpay.button('reset');
                    }
                })
                return false;
            } else {
                $.alert(message);
                jkxpay.button('reset');
            }
        });
      
        return false;

    }else{
        $('.reward').modal('hide');
        return false;
    }
}

function check_status(rid) {
  var val_type = $("input[name='reward_type']:checked").val();
  $.xpost('reward_pay-check.htm', {checkid: rid}, function(code, message) {
    if(code == 0) {
      if(val_type == 1) {
        Popup.close();
      }
      $.alert('恭喜您，赞赏成功！');
      setTimeout(function() {
                 window.location.reload();
      }, 3000);
      // if(check_handle) {
        clearInterval(check_handle);
        check_handle = null;
      // }
    } else {
      return false;
    }
  });
}

function check_setInterval(rid) {
  check_handle = setInterval(function() {
    check_status(rid);
  }, 3000);
}

window._is_weixin = function() {
  var _ua = window.navigator.userAgent.toLowerCase();
  if (_ua.match(/MicroMessenger/i) == 'micromessenger') {
      return true;
  } else {
      return false;
  }
}()


$("select.reward_reason").change(function(){

    console.log( $("select.reward_reason option:selected").val());
    var reward_reason = $("select.reward_reason option:selected").val()
    if (reward_reason != 0) {
        $(".reward_reason_textarea").val($("select.reward_reason option:selected").val());
    }
    
    
})

</script><script>
var jform_appeal = $('#form_appeal');
var appeal_submit = $('#appeal_submit');

appeal_submit.on('click', function() {
    jform_appeal.reset();
    appeal_submit.button('loading');
    var postdata = jform_appeal.serialize();
    
    $.xpost(jform_appeal.attr('action'), postdata, function(code, message) {
        if(code == 0) {
       	$.alert(message);
       	appeal_submit.button('reset');
       	setTimeout(function(){window.location.reload();
            }, 2000);
        } else {
    	$.alert(message);
    	appeal_submit.button('reset');
        }
    });
    return false;
});

 $('#appeal').on('show.bs.modal', function (event) {
	var button = $(event.relatedTarget)
	var pid = button.data('pid');
	var modal = $(this);
	modal.find('.modal-body #pid').val(pid);

})
</script><script>

var jform_report = $('#form_report');
var report_submit = $('#report_submit');

report_submit.on('click', function() {
    jform_report.reset();
    report_submit.button('loading');
    var postdata = jform_report.serialize();
    
    $.xpost(jform_report.attr('action'), postdata, function(code, message) {
        if(code == 0) {
       	$.alert(message);
       	report_submit.button('reset');
       	setTimeout(function(){window.location.reload();
            }, 1000);
        } else {
    	$.alert(message);
    	report_submit.button('reset');
        }
    });
    return false;
});

$('#report').on('show.bs.modal', function (event) {
	var button = $(event.relatedTarget)
    var tid = button.data('tid');
    var pid = button.data('pid');
    var modal = $(this);

    modal.find('.modal-body #tid').val(tid);
    modal.find('.modal-body #pid').val(pid);
})

</script><!--游客下载附件关注微信公众号-->
<div class="modal fade download_code" id="download_code" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                        <div class="modal-header">
	                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	                                <span aria-hidden="true">×</span>
	                        </button>
	                        <h5 class="modal-title" id="exampleModalLabel">游客下载提示</h5>
                        </div>
                        <form id="form_download" action="" method="post" target="_blank">
                                <div class="modal-body text-center">
                                    <input id="aid" name="aid" value="0" type="hidden">
                                    <dl class="row">
                                    	<dd class="text-left" style="width:50%">
                                        	<div style="font-size:14px">
                                        		<div>1.请先关注公众号。</div>
                                        		<div>2.点击菜单"更多"。</div>
                                        		<div>3.选择获取下载码。</div>
                                        	</div>
                                    	</dd>
                                    	<dt><img src="[%E5%8E%9F%E5%88%9B]%E7%83%AD%E8%A1%80%E6%B1%9F%E6%B9%96%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%EF%BC%88%E9%83%A8%E5%88%86%EF%BC%89-%E3%80%8E%E8%BD%AF%E4%BB%B6%E9%80%86%E5%90%91%E3%80%8F-%E7%9C%8B%E9%9B%AA%E5%AE%89%E5%85%A8%E8%AE%BA%E5%9D%9B_files/wxgz.jpg" width="80%"></dt>
                                    </dl>
                                    <fieldset class="form-group">
                						<input class="form-control" type="text" id="download_code" name="download_code" placeholder="请输入下载码">
                					</fieldset>
                                </div>
                                <div class="modal-footer">
                                        <button id="download_submit" type="button" class="btn btn-primary" data-loading-text="正在提交...">下载</button>
                                </div>
                        </form>
                </div>
        </div>
</div>

<script>

var jform_download = $('#form_download');
var jdownload_submit = $('#download_submit');

jdownload_submit.on('click', function() {
    jform_download.reset();
    jdownload_submit.button('loading');
    var postdata = jform_download.serialize();

    var aid2 = jform_download.find('.modal-body #aid').val();
    
    $.xpost(jform_download.attr('action'), postdata, function(code, message) {
        if(code == 0) {
	       	jdownload_submit.button('下载中...');
	       	var href = "attach-download-"+aid2+"-"+message+".htm";
		window.location = href;
		setTimeout(function() {
                    jdownload_submit.button('reset');
                    jform_download.find('.modal-body #download_code').val('');
                }, 1500);
		
        } else {
	    	$.alert(message);
	    	jdownload_submit.button('reset');
        }
    });
    return false;
});

$('#download_code').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget)
    var aid = button.data('aid');
    var modal = $(this);
    var down_action="attach-download_code-"+aid+".htm";

    modal.find('.modal-body #aid').val(aid);
    modal.find('#form_download').attr('action', down_action);
})

</script><script>
var page = '1';
$('#thumb').click(function() {
	var threadid = '259746';
	var type = 1;
	var num = parseInt($('#thread_thumb_num').text());
	var postdata = 'threadid=' + threadid + '&type=1&page='+page;
	var that = this;
	$.xpost('thumbs_up-thumbs.htm', postdata, function(code, message) {
		if(code == 0) {
			var s = '<i class="icon-thumbs-o-up" style="color: #0099ee;"></i>&nbsp;<span style="color: #0099ee;">已赞</span>';
			$('#thumb').children('a').html(s);
			$('#thread_thumb_num').text(num + 1);
			$.tips('感谢您的赏识！您已向主题帖作者发送 '+message+' 个雪币，表达感谢', $(that), {
				tips:1,
				time: 2000,
				tips: [1,'#748691']

			});
		} else {
			$.tips(message, $(that), {
				tips: 1,
				time: 2000,
				tips: [1,'#748691']

			});
		}
	})
})
</script>

<script>
$(document).on('click','.reply_thumb',function(){
	
	var index = $('.reply_thumb').index(this);
	var threadid = $(this).find('input').eq(0).val();
	var praised_uid = $(this).find('input').eq(1).val();
	var pid = $(this).find('input').eq(2).val();
	var num = parseInt($('.thumb_num').eq(index).text());
	
	var postdata = 'threadid=' + threadid + '&praised_uid=' + praised_uid +'&pid=' + pid + '&type=2&page='+page;
	var that = this;
	$.xpost('thumbs_up-thumbs.htm', postdata, function(code, message) {
    	if(code == 0) {
            var s = '<i class="icon-thumbs-o-up" style="color: #0099ee;"></i>';
            var new_num = num + 1;
            $('.reply_thumb').eq(index).children('a').html(s);
	    $('.thumb_num').eq(index).text(num + 1);
	    	$.tips('英雄所见略同！您已向该回帖发送  '+message+' 个雪币，表达感谢', $(that), {
			tips: [1,'#748691'],
			time: 4000,
			
		});
        } else {
		$.tips(message, $(that), {
			
			time: 4000,
			tips: [1,'#748691']
		});
	}
	})
})
</script><script>
xn_read_unread({"259746": "1591717995"}, 259746);
</script><script>
jsearch_form = $('#search_form');
jsearch_form.on('submit', function() {
	var keyword = jsearch_form.find('input[name="keyword"]').val();
	var url = xn.url('search-'+xn.urlencode(keyword));
	window.location = url;
	return false;
});
</script><script>
// 语法高亮
if($('div.message pre').length > 0) {
	$.require_css('plugin/xn_syntax_hightlighter/syntax_hightlighter/syntax.css');
	$.require('plugin/xn_syntax_hightlighter/syntax_hightlighter/syntax.js', function() {
		SyntaxHighlighter.all();
	});
}
</script>

</body></html>